<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°ç¬¬å®‰è€æ–‘é¸ </title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wongchen.github.io/"/>
  <updated>2019-11-13T14:09:06.694Z</updated>
  <id>http://wongchen.github.io/</id>
  
  <author>
    <name>Wong Chen</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2020ç®—æ³•æ ¡æ‹›æ„Ÿæ‚Ÿ</title>
    <link href="http://wongchen.github.io/2019/11/13/2020-campus-recruitment-1/"/>
    <id>http://wongchen.github.io/2019/11/13/2020-campus-recruitment-1/</id>
    <published>2019-11-13T13:17:20.000Z</published>
    <updated>2019-11-13T14:09:06.694Z</updated>
    
    <content type="html"><![CDATA[<p>æ®ç½‘ä¸Šç»Ÿè®¡,ä»Šå¹´ç®—æ³•ç«äº‰æ¿€çƒˆç¨‹åº¦å¤§æ¦‚æ˜¯540:1çš„æ ·å­,å¯ä»¥è§‚æ‘©ä¸€ä¸‹è¿™ä¸ªçŸ¥ä¹é—®é¢˜<a href="https://www.zhihu.com/question/342267611/answer/805334722" target="_blank" rel="noopener">å¦‚ä½•çœ‹å¾…2020 å±Šæ ¡æ‹›ç®—æ³•å·¥ç¨‹å¸ˆå²—ä½æ±‚èŒäººæ•°è¿œå¤§äºæ‹›è˜å²—ä½çš„ç°è±¡ï¼Ÿ</a></p>
<p>æˆ‘çš„æƒ…å†µå¾ˆå°´å°¬:</p>
<ul>
<li>æ— å¤§å‚å®ä¹ </li>
<li>æ— é¡¶ä¼š</li>
<li>éç§‘ç­</li>
</ul>
<p>åœ¨å®éªŒå®¤åšäº†ä¸‰å¹´ML/DLçš„å·¥ä½œ,å‹¤å‹¤æ³æ³ğŸ˜¹è¾›è¾›è‹¦è‹¦.</p>
<p>æ›´å°´å°¬çš„æ˜¯8æœˆä»½æ‰å¼€å§‹å‡†å¤‡æ‰¾å·¥ä½œğŸ™ƒ</p>
<p>å®éªŒå®¤åšçš„ä¸»è¦æ˜¯åŒ»å­¦å½±åƒåˆ†æ,æœ€åå†™å‡ºæ¥çš„ç®€å†å¤§æ¦‚å°±æ˜¯ä¸»è¦é¢å‘<strong>æ™ºèƒ½åŒ»ç–—</strong>çš„ç®€å†äº†ğŸ˜…</p>
<h2 id="å¤ä¹ å’ŒæŠ•ç®€å†ğŸ‘»"><a href="#å¤ä¹ å’ŒæŠ•ç®€å†ğŸ‘»" class="headerlink" title="å¤ä¹ å’ŒæŠ•ç®€å†ğŸ‘»"></a>å¤ä¹ å’ŒæŠ•ç®€å†ğŸ‘»</h2><ul>
<li>C++: (Primer),</li>
<li>Python(æµç•…çš„Python, Pythonæºç å‰–æ)</li>
<li>æ•°æ®ç»“æ„(é‚“ä¿Šè¾‰)</li>
<li>ML/DL,(ç™¾é¢æœºå™¨å­¦ä¹ , è¥¿ç“œä¹¦, ç»Ÿè®¡å­¦ä¹ æ–¹æ³•)</li>
</ul>
<p>ä»¥åŠé¡¹ç›®ç»†èŠ‚, è®ºæ–‡ç»†èŠ‚,ç‰›å®¢æ˜¯æ¯æ—¥å¿…åˆ·é«˜é¢‘app.</p>
<p>8æœˆ11å·å¼€å§‹æŠ•ç®€å†,æµ·æŠ•å•Š,æœ€ç»ˆå¤§æ¦‚æŠ•äº†ä¸€ç™¾ä»¥ä¸Šäº†ğŸ˜¹,åŸºæœ¬æŠ•çš„éƒ½æ˜¯ç®—æ³•,èº«è¾¹çš„åŒå­¦æœ‰è½¬å¼€å‘çš„,æœ‰è½¬æµ‹è¯•çš„,ä¹Ÿæœ‰ç®—æ³•å¤§ä½¬çš„è¿˜æœ‰å’Œæˆ‘ä¸€æ ·åœ¨ç®—æ³•è‹¦è‹¦æŒ£æ‰çš„â€¦</p>
<p>æˆ‘å±…ç„¶è¿˜èŠ±æ—¶é—´å­¦ä¹ äº†æ–°çŸ¥è¯†ğŸ¤ç°åœ¨æƒ³èµ·æ¥è¿˜æœ‰ç‚¹ä½©æœè‡ªå·±.</p>
<p>å­¦äº†ç‚¹NLP(CS224N), Scalaå’ŒSpark(courseraä¸Šçš„è¯¾ç¨‹,ä¹‹å‰æœ‰çœ‹è¿‡Haskell, æ‰€ä»¥scalaè¿˜å¥½)â€¦</p>
<h3 id="æ„Ÿæ‚ŸğŸ§"><a href="#æ„Ÿæ‚ŸğŸ§" class="headerlink" title="æ„Ÿæ‚ŸğŸ§"></a>æ„Ÿæ‚ŸğŸ§</h3><ol>
<li>æ—©ç‚¹å‡†å¤‡,æ—©ç‚¹å®ä¹ ,é¡¶ä¼šè®ºæ–‡çš„è¯æ›´å¥½äº†,å¹³æ—¶åŸºç¡€ä¸€å®šè¦å¥½,è¸è¸å®å®.</li>
<li>æŠ“ä½æå‰æ‰¹çš„æœºä¼š(67æœˆä»½å§)</li>
<li>æ‰¾åŠ›æ‰€èƒ½åŠçš„å…¬å¸å’Œå²—ä½å»æŠ•é€’,å¦åˆ™å°±æ˜¯æµªè´¹è‡ªå·±çš„æ—¶é—´äº†,è½¬å²—è¦è¶æ—©,éè¦åœ¨ç®—æ³•è¿™æ£µæ ‘ä¸ŠåŠç€æ‰æ­»å°±ä¸å¥½å—äº†,è€Œä¸”å¼€å‘çš„è–ªèµ„å’Œç®—æ³•çš„å·®è·ä¹Ÿåœ¨ç¼©å°,ç›¸ä¿¡ä¹‹åå‡ å¹´åº”è¯¥ä¼šè¾¾åˆ°ä¸€ä¸ªå¹³è¡¡ä¸ä¼šåƒä»Šå¹´è¿™ä¹ˆçˆ†ç‚¸ğŸ’¥äº†å§</li>
<li>å¤šé€›ç‰›å®¢å’Œå…¶ä»–å¹³å°å§,æˆ‘æœ€ç»ˆæ‹¿åˆ°çš„offerå°±æ˜¯ç‰›å®¢å†…æ¨çš„,æ²¡æœ‰ç¬”è¯•çš„~</li>
<li>å¿ƒæ€ä¸€å®šè¦ç¨³, ç›¸ä¿¡ä¸€åŠé å®åŠ›ä¸€åŠçš„ä¸€åŠé é¢œå€¼,ä¸€åŠçš„ä¸€åŠè¿˜æ˜¯é è¿æ°”çš„.</li>
</ol>
<h2 id="é¢è¯•ğŸ’»"><a href="#é¢è¯•ğŸ’»" class="headerlink" title="é¢è¯•ğŸ’»"></a>é¢è¯•ğŸ’»</h2><p>æŠ•äº†é‚£ä¹ˆå¤š,è¦ä¹ˆæ³æ— éŸ³ä¿¡,è¦ä¹ˆé¢å®Œæ³æ— éŸ³ä¿¡,æœ‰æ—¶å€™è¿˜ä¼šå—åˆ°éç§‘ç­çš„æ­§è§†,æœ€åé¢å¾—åå‡ ä¸ªå§~æ‹¿åˆ°offerçš„å°±æ›´å°‘äº†.</p>
<p>é¢è¯•ä¹Ÿæ˜¯åœ¨ä¸€æ­¥æ­¥æˆé•¿,é€æ¸ç§¯ç´¯ç»éªŒ,æœŸé—´ä¹Ÿå‘ç°è‡ªå·±è®¸å¤šçŸ¥è¯†å­¦ä¹ è¿˜ä¸æ˜¯å¾ˆæ‰å®,é¡¹ç›®è®¸å¤šç»†èŠ‚è¿˜æ˜¯æœ‰å¾…è€ƒé‡,ä»”ç»†æ€»ç»“çš„è¯è¿˜æ˜¯å¯ä»¥å­¦ä¹ åˆ°å¾ˆå¤šçš„.</p>
<h3 id="æ„Ÿæ‚ŸğŸ§-1"><a href="#æ„Ÿæ‚ŸğŸ§-1" class="headerlink" title="æ„Ÿæ‚ŸğŸ§"></a>æ„Ÿæ‚ŸğŸ§</h3><ol>
<li>æœ‰æ‰€å–èˆ, æœ‰äº›ä¸å€¼å¾—çš„å…¬å¸å°±æ²¡å¿…è¦å»é¢äº†,æœ‰æ—¶å€™é¢è¯•ä½“éªŒä¸å¥½çš„è¯è¿˜æ˜¯å¾ˆå½±å“å¿ƒæ€çš„</li>
<li>é¢è¯•å‰å¿ƒæ€è¦å¥½,å°½é‡ä¸è¦ç´§å¼ ,æå‰çœ‹çœ‹é¢ç»æŒºæœ‰å¸®åŠ©çš„</li>
<li>é¢è¯•æ—¶è¦è‡ªä¿¡,å½“å—åˆ°è´¨ç–‘çš„æ—¶å€™è¦æœ‰ç†æœ‰æ®è¾©é©³</li>
<li>æ‰€ä»¥ç®€å†ä¸Šåƒä¸‡ä¸è¦è™šå‡,å¦åˆ™å¾ˆå®¹æ˜“è¢«é—®åˆ°,æƒ³è‡ªä¿¡ä¹Ÿè«å¾—åŠæ³•.</li>
<li>é¢è¯•åä¸€å®šè¦å¥½å¥½æ€»ç»“</li>
</ol>
<p>æœŸé—´å¿ƒæ€å´©äº†æ— æ•°æ¬¡,èº«è¾¹å¥½å¤šäººä¹Ÿéƒ½æ˜¯è¿™ç§çŠ¶æ€,æ‰å±‚çš®å‘,è¿˜å¥½æœ€åä¸Šå²¸äº†ğŸ˜¬</p>
<p>æˆ‘å¤ªéš¾äº†ğŸ˜¤ğŸ˜¤ğŸ˜¤</p>
<p><img src="![â€œæˆ‘å¤ªéš¾äº†â€çš„å›¾ç‰‡æœç´¢ç»“æœ](https://img.doutugou.net/2019/08/006dMd5bgy1g62osjo7hzj308c08cdg1.jpg" alt></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ®ç½‘ä¸Šç»Ÿè®¡,ä»Šå¹´ç®—æ³•ç«äº‰æ¿€çƒˆç¨‹åº¦å¤§æ¦‚æ˜¯540:1çš„æ ·å­,å¯ä»¥è§‚æ‘©ä¸€ä¸‹è¿™ä¸ªçŸ¥ä¹é—®é¢˜&lt;a href=&quot;https://www.zhihu.com/question/342267611/answer/805334722&quot; target=&quot;_blank&quot; rel=&quot;noopener
    
    </summary>
    
      <category term="æ€»ç»“" scheme="http://wongchen.github.io/categories/%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="æ€»ç»“" scheme="http://wongchen.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow ä½¿ç”¨Dataset ç®€å•è¯»å–æ•°æ®</title>
    <link href="http://wongchen.github.io/2018/01/21/tf-dynamic-dataset/"/>
    <id>http://wongchen.github.io/2018/01/21/tf-dynamic-dataset/</id>
    <published>2018-01-21T06:40:43.000Z</published>
    <updated>2018-01-21T07:16:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡è¯´äº†pytorchä¸‹åˆ©ç”¨å…¶<code>Dataset</code>å’Œ<code>DataLoader</code>apiå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°åŠ¨æ€è¯»å–æ•°æ®,ä¸éœ€è¦å°†å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ä¹Ÿå¯ä»¥å¿«é€Ÿå–æ ·æœ¬.</p>
<p>åœ¨TensorFlowä¸‹ä¹‹å‰å†™è¿‡å¸¸ç”¨çš„æ•°æ®è¯»å–æ–¹å¼,åœ¨TF1.3ç‰ˆæœ¬æ–°æ·»åŠ äº†<code>Dataset</code>æ¨¡å—,1.3ç‰ˆæœ¬ä¸­å…¶ä½äº</p>
<p><code>tf.contrib.data.Dataset</code>,1.4ç‰ˆæœ¬åç§»åˆ°äº†â€™tf.data.Datasetâ€™.</p>
<p>ä¹‹å‰çš„tfrecordé˜Ÿåˆ—è¯»å–æ•°æ®çš„æ–¹å¼æœ‰ä¸€äº›ä¸è¶³:</p>
<ul>
<li>éœ€è¦ä¿å­˜ä¸ºtfrecordæ–‡ä»¶æ ¼å¼,å®˜æ–¹docæœ‰äº›æ™¦æ¶©éš¾æ‡‚=,å­¦ä¹ æˆæœ¬è¾ƒé«˜(ç›¸æ¯”äºpytorch datasetçš„å®ç°)</li>
<li>éœ€è¦ä¿å­˜ä¸ºtfrecordæ–‡ä»¶,å ç”¨ä¸€å®šç¡¬ç›˜ç©ºé—´</li>
<li>å…¶å†…éƒ¨æœºåˆ¶æœ‰äº›éš¾æ‡‚,æœ€åå¦‚æœç»“æœä¸å¯¹,ä¸èƒ½ä¿è¯æ˜¯ä¸æ˜¯æ ·æœ¬è¯»å–ä»£ç è¿™é‡Œå‡ºäº†é—®é¢˜</li>
</ul>
<h2 id="æ„å»ºä¸€ä¸ªDataset"><a href="#æ„å»ºä¸€ä¸ªDataset" class="headerlink" title="æ„å»ºä¸€ä¸ªDataset"></a>æ„å»ºä¸€ä¸ªDataset</h2><p>é¦–å…ˆ,Datasetç»“æ„:</p>
<p>ä»è¿™é‡Œä¹Ÿå¯ä»¥çœ‹åˆ°,è·Ÿpytorchä¸‹çš„å¾ˆåƒ,ä¸€ä¸ªå¥½å¤„å°±æ˜¯ç›¸æ¯”ä¹‹å‰çš„é˜Ÿåˆ—æˆ–è€…feed_dictæ¥è¯´è¦ç®€å•,ç®€ä»‹è®¸å¤š,ä»£ç æ˜“è¯»æ€§ä¹Ÿå¢åŠ äº†.</p>
<ul>
<li>Datasetæ¨¡å—: åŒ…å«åŸºæœ¬çš„æ–¹æ³•,å¦‚åˆ›å»ºdataset, éšæœº(shuffle), å˜æ¢(transformation), æ‰¹å¤„ç†(batch)ç­‰</li>
<li>å­ç±»: é’ˆå¯¹ç‰¹å®šæ•°æ®çš„ä¸€äº›æ–¹ä¾¿çš„å­ç±»,å°±åƒpytorchä¸­çš„labeledImageDatasetç­‰</li>
<li>Datasetçš„æ–¹æ³•å°±æ˜¯å®ä¾‹åŒ–ä¸€ä¸ªIteratorå¯¹è±¡,ä¿è¯æ¯æ¬¡å–åˆ°ä¸€ä¸ªdatasetä¸­çš„ä¸€ä¸ª/æ‰¹æ ·æœ¬.</li>
</ul>
<p><img src="https://4.bp.blogspot.com/-Av_QQUdRvZI/WbfwxtE0cjI/AAAAAAAAD1s/bjWNV9siuoI92Qo3TaeFaumb2s5BVfYgwCLcBGAs/s1600/image7.jpg" alt></p>
<p>ä»<a href="https://www.tensorflow.org/api_docs/python/tf/data/Dataset" target="_blank" rel="noopener">å®˜æ–¹doc</a>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,æ„å»ºä¸€ä¸ªDatasetçš„å¤§è‡´çš„å‡ ä¸ªæ–¹æ³•æœ‰:</p>
<ul>
<li><code>from_generator</code>:è°ƒç”¨äº†<code>py_func</code>æ–¹æ³•,å¯ä»¥å°†ä»»æ„çš„pythonä»£ç è½¬åŒ–ä¸ºtfå›¾ä¸­çš„operationèŠ‚ç‚¹;ä½¿ç”¨æŒ‡å®šç”Ÿæˆå™¨ä¸­çš„æ¯ä¸ªå…ƒç´ ä½œä¸ºdatasetä¸­çš„å…ƒç´ </li>
<li><code>from_sparse_tensor_slices</code></li>
<li><code>from_tensor_slices</code></li>
</ul>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p>åˆ©ç”¨<code>from_generator</code>æ–¹æ³•æ¥å®ç°ä¹‹å‰çš„åŠ¨æ€ç”Ÿæˆè®­ç»ƒå’Œæµ‹è¯•æ ·æœ¬.</p>
<blockquote>
<p>ä»ä¸€äº›3Då›¾ç‰‡ä¸­éšæœºå–ä¸€äº›[128, 128, 128]å¤§å°çš„æ ·æœ¬, åŸå›¾å’Œé‡‘æ ‡å‡†å›¾indexè¦ä¸€è‡´,æ¯ä¸ªæ ·æœ¬åŒ…å«(data, target), ä¸ºäº†æ–¹ä¾¿,æå‰ä¿å­˜å¥½äº†è¿™äº›æ ·æœ¬çš„è¡Œåˆ—åæ ‡.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> SimpleITK <span class="keyword">as</span> sitk</span><br><span class="line"><span class="keyword">import</span> pickle <span class="keyword">as</span> pk</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ç°ç”Ÿæˆå™¨,è¿™é‡Œç”±äºç”Ÿæˆå™¨éœ€è¦æ¥å—å‡ ä¸ªå‚æ•°,from_generatorä¸­genå‚æ•°å¯¹è±¡éœ€è¦callableè€Œä¸”è¿”å›ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡,</span></span><br><span class="line"><span class="comment"># å¯ä»¥å†™æˆé—­åŒ…çš„å½¢å¼å¦‚ä¸‹,ä¹Ÿå¯ä»¥å†™æˆä¸€ä¸ªç±»(æ”¯æŒcallable)æˆ–è€…lambdaä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen</span><span class="params">(src_list, std_list, pickle_file)</span>:</span></span><br><span class="line">  <span class="string">'''</span></span><br><span class="line"><span class="string">  src_list,std_list å›¾åƒarrayæ•°æ®</span></span><br><span class="line"><span class="string">  è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°</span></span><br><span class="line"><span class="string">  '''</span></span><br><span class="line">    <span class="keyword">with</span> open(pickle_file, <span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        points = pk.load(f)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(points)):</span><br><span class="line">            i, c, h, w = points[j]</span><br><span class="line">            src = src_list[i][c<span class="number">-64</span>:c+<span class="number">64</span>, h<span class="number">-64</span>:h+<span class="number">64</span>, w<span class="number">-64</span>:w+<span class="number">64</span>] </span><br><span class="line">            std = std_list[i][c<span class="number">-64</span>:c+<span class="number">64</span>, h<span class="number">-64</span>:h+<span class="number">64</span>, w<span class="number">-64</span>:w+<span class="number">64</span>] </span><br><span class="line">            <span class="keyword">yield</span> (src, std)</span><br><span class="line">    <span class="keyword">return</span> func</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    .....</span><br><span class="line">    </span><br><span class="line">    ds = tf.data.Dataset.from_generator(gen(src_list, std_list, pickle_file), \</span><br><span class="line">            (tf.int16, tf.int16)).batch(<span class="number">2</span>)</span><br><span class="line">    ge = gen(src_list, std_list, pickle_file)</span><br><span class="line">    value = ds.make_one_shot_iterator().get_next()</span><br><span class="line">    sess = tf.Session()</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">9</span>):</span><br><span class="line">        <span class="keyword">print</span> sess.run(value)[<span class="number">0</span>].shape  <span class="comment"># [2, 128, 128, 128]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå¯ä»¥ä»æ—¶é—´è¾ƒå¤šå¯¹æ¯”ä¸‹~,å…¶å®ä¹‹å‰åšè¿‡ä¸€äº›æµ‹è¯•,å‘ç°tfrecordå’Œpytorchä¸‹Dataset&amp;DataLoaderæ—¶é—´ç›¸å·®æ— å‡ .</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸Šä¸€ç¯‡è¯´äº†pytorchä¸‹åˆ©ç”¨å…¶&lt;code&gt;Dataset&lt;/code&gt;å’Œ&lt;code&gt;DataLoader&lt;/code&gt;apiå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°åŠ¨æ€è¯»å–æ•°æ®,ä¸éœ€è¦å°†å›¾ç‰‡ä¿å­˜åˆ°æœ¬åœ°ä¹Ÿå¯ä»¥å¿«é€Ÿå–æ ·æœ¬.&lt;/p&gt;
&lt;p&gt;åœ¨TensorFlowä¸‹ä¹‹å‰å†™è¿‡å¸¸ç”¨çš„æ•°æ®è¯»å–æ–¹å¼,åœ¨TF1.
    
    </summary>
    
      <category term="TensorFlow" scheme="http://wongchen.github.io/categories/TensorFlow/"/>
    
    
      <category term="TensorFlow" scheme="http://wongchen.github.io/tags/TensorFlow/"/>
    
      <category term="Dataset" scheme="http://wongchen.github.io/tags/Dataset/"/>
    
  </entry>
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ ä¸­åŠ¨æ€åŠ è½½æ ·æœ¬</title>
    <link href="http://wongchen.github.io/2018/01/17/pytorch-dynamic-sampling/"/>
    <id>http://wongchen.github.io/2018/01/17/pytorch-dynamic-sampling/</id>
    <published>2018-01-17T12:48:34.000Z</published>
    <updated>2018-01-17T13:20:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ç”¨CNNå¤„ç†å›¾åƒçš„æ—¶å€™,ç»å¸¸æˆ‘ä»¬ä¸æ˜¯ç”¨ä¸€æ•´å¼ å®Œæ•´çš„å›¾åƒå»è®­ç»ƒ,è€Œæ˜¯ç»å¸¸ä¼šé‡‡ç”¨å–ä¸€ä¸ªå›¾åƒå—ä¹Ÿå°±æ˜¯patchæ¥è¾“å…¥ç½‘ç»œè¿›è¡Œè®­ç»ƒ,æ„æˆæˆ‘ä»¬çš„è®­ç»ƒé›†æ ·æœ¬å’Œæµ‹è¯•é›†æ ·æœ¬.</p>
<p>ä¸€ç§å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯å…ˆæŠŠä»–ä»¬ä¿å­˜åˆ°æœ¬åœ°ç¡¬ç›˜ä¸­,ç„¶åæ¯æ¬¡è®­ç»ƒæ—¶ä¸€å¼ å¼ å»è¯»å–(æˆ–è€…å°†ä»–ä»¬è½¬æ¢ä¸º<code>tfrecord</code>æ ¼å¼ä½¿ç”¨TensorFlowä¸­çš„é˜Ÿåˆ—è¯»å–è¿™äº›æ–‡ä»¶),æœ€è¿‘åœ¨åš3Då›¾åƒçš„æ“ä½œ,ç›´æ¥å¯¹3Då›¾åƒè¿›è¡Œå·ç§¯,å·ç§¯æ ¸ä¹Ÿæ˜¯3ç»´çš„,å› æ­¤å›¾åƒå°ºå¯¸ä¸å¯èƒ½å–åˆ°å¾ˆå¤§,ä¹Ÿæ˜¯voxel patch.</p>
<p>ä½†æ˜¯3Dæ•°æ®æ˜¯è¾ƒå¤§çš„,ç¡¬ç›˜ç©ºé—´æœ‰æ—¶å€™æ²¡é‚£ä¹ˆå¤§,å°¤å…¶æ˜¯å›ºæ€,å› ä¸ºå›ºæ€ä¸‹çš„æ–‡ä»¶è¯»å–é€Ÿåº¦è¦æ¯”æœºæ¢°ç›˜å¿«å¾ˆå¤š,æ‰€ä»¥èƒ½æ”¾åˆ°å›ºæ€ä¸‹çš„è¯æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©,ä½†æ˜¯å¯¹äºè¿™ä¸ªé—®é¢˜æ¥è¯´,å®Œå…¨ä¸å¤Ÿ,åªèƒ½æ”¾åˆ°æœºæ¢°ç›˜ä¸‹é¢.</p>
<p>è¿˜æœ‰ä¸€ç§æƒ³æ³•å°±æ˜¯: â€œæŠŠé¸¡è›‹æ”¾åˆ°ä¸€ä¸ªç¯®å­é‡Œ.ğŸ¥šğŸ¥šğŸ¥šâ€</p>
<p>å°±æ˜¯åœ¨è®­ç»ƒæ—¶æŠŠæ‰€æœ‰æ•°æ®ä¸€æ¬¡æ€§è¯»å–åŠ è½½åˆ°å†…å­˜ä¸­,ç„¶åè®­ç»ƒçš„æ—¶å€™ä»è¿™äº›å›¾ç‰‡ä¸­éšæœºå–æ ·æœ¬,è¦æ±‚å°±æ˜¯è¿™äº›å›¾ç‰‡å¯ä»¥è¢«åŒæ—¶è¯»å–åˆ°å†…å­˜ä¸­,éœ€è¦ä¸€å®šå¤§å°çš„å†…å­˜,å°¤å…¶æ˜¯åœ¨ä¸€äº›ç”¨æ¥è·‘ç¨‹åºçš„ä¸»æœºä¸Š,å†…å­˜å ç”¨å¾ˆä½.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>ä¾‹å¦‚å¯ä»¥æŠŠè¦æå–çš„patchçš„ç‚¹ä»¥pickleæ–‡ä»¶ä¿å­˜ä¸ºlistå¯¹è±¡,ç”¨pytorchå®ç°ä¸º:</p>
<p>å°†æ‰€æœ‰çš„è¯»å–åˆ°å›¾åƒä»¥åŠè¦æå–æ ·æœ¬çš„å…³é”®ç‚¹ä¼ å…¥MyDatasetç±», åœ¨<code>__getitem__</code>æ–¹æ³•ä¸­å¯¹å·²æœ‰çš„å›¾åƒè¿›è¡Œåˆ‡ç‰‡å°±èƒ½å¾—åˆ°éœ€è¦çš„æ ·æœ¬.</p>
<p>è¿™æ ·çš„å¥½å¤„å°±æ˜¯èŠ‚çœç¡¬ç›˜ç©ºé—´,ä»å†…å­˜è·å–æ•°æ®é€Ÿåº¦è¾ƒå¿«.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">from torch.utils.data import Dataset</span><br><span class="line">import numpy as np</span><br><span class="line">import pickle</span><br><span class="line"></span><br><span class="line">class MyDataset(Dataset):</span><br><span class="line">	def __init__(self, src_img_list, std_img_list, points_pickle):	</span><br><span class="line">    	self.src_img_list = src_img_list</span><br><span class="line">        self.std_img_list = std_img_list</span><br><span class="line">        with open(points_pickle, &apos;rb&apos;) as f:</span><br><span class="line">              self.points = pickle.load(f)</span><br><span class="line">  </span><br><span class="line">    def __len__(self):</span><br><span class="line">        return len(self.points)</span><br><span class="line">  </span><br><span class="line">    def __getitem__(self, idx):</span><br><span class="line">        i, c, h, w = self.points[idx]</span><br><span class="line">        data = self.src_img_list[i][c-64:c+64, h-64:h+64, w-64:w+64].reshape([1, 128, , 128]).</span><br><span class="line">        target = self.std_img_list[i][c-64:c+64, h-64:h+64, w-64:w+64].reshape([1, , 128, 128]</span><br><span class="line">        return data, target</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨ç”¨CNNå¤„ç†å›¾åƒçš„æ—¶å€™,ç»å¸¸æˆ‘ä»¬ä¸æ˜¯ç”¨ä¸€æ•´å¼ å®Œæ•´çš„å›¾åƒå»è®­ç»ƒ,è€Œæ˜¯ç»å¸¸ä¼šé‡‡ç”¨å–ä¸€ä¸ªå›¾åƒå—ä¹Ÿå°±æ˜¯patchæ¥è¾“å…¥ç½‘ç»œè¿›è¡Œè®­ç»ƒ,æ„æˆæˆ‘ä»¬çš„è®­ç»ƒé›†æ ·æœ¬å’Œæµ‹è¯•é›†æ ·æœ¬.&lt;/p&gt;
&lt;p&gt;ä¸€ç§å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯å…ˆæŠŠä»–ä»¬ä¿å­˜åˆ°æœ¬åœ°ç¡¬ç›˜ä¸­,ç„¶åæ¯æ¬¡è®­ç»ƒæ—¶ä¸€å¼ å¼ å»è¯»å–(æˆ–è€…å°†ä»–ä»¬è½¬æ¢ä¸º&lt;code
    
    </summary>
    
      <category term="Deep Learning" scheme="http://wongchen.github.io/categories/Deep-Learning/"/>
    
    
      <category term="pytorch" scheme="http://wongchen.github.io/tags/pytorch/"/>
    
      <category term="deep learning" scheme="http://wongchen.github.io/tags/deep-learning/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£…TensorFlow1.5+cuda9.0+cudnn7.0</title>
    <link href="http://wongchen.github.io/2018/01/17/cuda9-cudnn7/"/>
    <id>http://wongchen.github.io/2018/01/17/cuda9-cudnn7/</id>
    <published>2018-01-17T12:17:11.000Z</published>
    <updated>2018-01-17T12:50:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰ä½¿ç”¨çš„ä¸€ç›´æ˜¯python2.7+TensorFlow1.1+cuda8.0+cudnn6.0,ç”¨äº†æœ‰ä¸€æ®µæ—¶é—´äº†,python3æ˜¯ä¸€ç›´æ‰“ç®—æ¢è¿‡æ¥çš„,æ¯•ç«Ÿpy3æ¯”2å¢åŠ äº†è®¸å¤šå®ç”¨æ€§çš„åŠŸèƒ½,è€Œä¸”py2é€æ¸ä¸è¢«è®¸å¤šåº“æ‰€æ”¯æŒ,å®˜æ–¹ä¹Ÿå£°æ˜åœ¨2020å¹´æ”¾å¼ƒå¯¹py2çš„ç»´æŠ¤.</p>
<p>ä»Šå¤©çœ‹åˆ°TensorFlow1.5ç‰ˆæœ¬çš„å‘å¸ƒä»¥åŠcuda9çš„å‘å¸ƒæƒ³æ›´æ–°ä¸€æ³¢.</p>
<h2 id="py"><a href="#py" class="headerlink" title="py"></a>py</h2><p>ç”±äºç›®å‰è¿˜ä¼šçŸ­æš‚ä½¿ç”¨py2,æ‰€ä»¥éœ€è¦åœ¨ä¸€å°ç”µè„‘ä¸ŠåŒæ—¶ä½¿ç”¨py2å’Œpy3.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep python</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå½“å‰è°ƒç”¨pythonçš„è¿›ç¨‹,çœ‹åˆ°pythonå’Œpython3éƒ½æœ‰.</p>
<p>å¯è¡Œçš„æ–¹æ³•åŒ…æ‹¬:</p>
<ol>
<li>virtualenv,ä¸è¿‡æš‚æ—¶ä¸æƒ³ç”¨è¿™ä¸ª.</li>
<li>æœ€ç®€å•å°±æ˜¯åœ¨ç”¨3çš„æ—¶å€™åé¢åŠ 3å°±å¥½äº†, <code>python3</code>, <code>pip3</code></li>
<li>ä¹Ÿå¯ä»¥å»<a href="https://github.com/pyenv/pyenv" target="_blank" rel="noopener">pyenv</a>çœ‹çœ‹</li>
</ol>
<h2 id="CUDA-amp-CUDNN"><a href="#CUDA-amp-CUDNN" class="headerlink" title="CUDA &amp; CUDNN"></a>CUDA &amp; CUDNN</h2><p>å®˜ç½‘ä¸‹è½½cudaæ—¶é€‰æ‹©9.0çš„ç‰ˆæœ¬,å½“å‰æœ€æ–°ä¸º9.1,åˆšå¼€å§‹å®‰è£…äº†9.1çš„cuda toolkit,å‘ç°è¿˜æ˜¯ä¸æ”¯æŒ,åæ¥æ¢åˆ°9.0ç‰ˆæœ¬å°±å¥½äº†.</p>
<p>CUDNNä¹Ÿæ˜¯å®˜ç½‘ä¸‹è½½debåŒ…å®‰è£…å°±å¯ä»¥.</p>
<p>é©±åŠ¨éœ€è¦384ä»¥ä¸Š,ä¸€ä¸ªç»éªŒå°±æ˜¯å½“ç”µè„‘é©±åŠ¨å‡ºé—®é¢˜çš„æ—¶å€™,(ç»å¸¸ç™»å½•ç•Œé¢æ— çº¿å¾ªç¯,ä½åˆ†è¾¨ç‡ç­‰é—®é¢˜),æœ€ç®€å•çš„è§£å†³åŠæ³•å°±æ˜¯æŠŠåŸæ¥çš„ä½¿ç”¨linux aptå®‰è£…çš„é©±åŠ¨åŒ…éƒ½å¸è½½æ‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove nvidia*</span><br></pre></td></tr></table></figure>
<p>ç„¶å<a href="http://www.nvidia.com/Download/index.aspx?lang=cn" target="_blank" rel="noopener">å®˜ç½‘</a>ä¸‹è½½ç›¸åº”ç‰ˆæœ¬çš„driver, <code>.run</code>æ–‡ä»¶,ç”¨å®ƒæ¥å®‰è£…,ä¸€èˆ¬å¯ä»¥è§£å†³é©±åŠ¨çš„é—®é¢˜.</p>
<h2 id="TensorFlow1-5"><a href="#TensorFlow1-5" class="headerlink" title="TensorFlow1.5"></a>TensorFlow1.5</h2><p>æœ¬æ¥æ‰“ç®—æºç å®‰è£…çš„,è¿›è¡Œåˆ°<code>bazel build</code>è¿™ä¸€æ­¥çš„æ—¶å€™ä¸€ä¸ªè·Ÿç½‘ç»œå’Œbazelæœ‰å…³çš„é—®é¢˜è§£å†³ä¸äº†,ä¹Ÿæ²¡å¿…è¦è¿™ä¹ˆè£…äº†.</p>
<p>ç´¢æ€§è¿˜æ˜¯pip:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tensorflow-gpu==1.5rc1 --user</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·åŸæ¥çš„python2ä¹Ÿæ˜¯è¿˜å¯ä»¥ç»§ç»­ç”¨çš„,æ–°çš„python3ä¹Ÿok.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰ä½¿ç”¨çš„ä¸€ç›´æ˜¯python2.7+TensorFlow1.1+cuda8.0+cudnn6.0,ç”¨äº†æœ‰ä¸€æ®µæ—¶é—´äº†,python3æ˜¯ä¸€ç›´æ‰“ç®—æ¢è¿‡æ¥çš„,æ¯•ç«Ÿpy3æ¯”2å¢åŠ äº†è®¸å¤šå®ç”¨æ€§çš„åŠŸèƒ½,è€Œä¸”py2é€æ¸ä¸è¢«è®¸å¤šåº“æ‰€æ”¯æŒ,å®˜æ–¹ä¹Ÿå£°æ˜åœ¨2020å¹´æ”¾å¼ƒå¯¹py2çš„ç»´æŠ¤.&lt;/p&gt;
&lt;
    
    </summary>
    
      <category term="TensorFlow" scheme="http://wongchen.github.io/categories/TensorFlow/"/>
    
    
      <category term="cuda" scheme="http://wongchen.github.io/tags/cuda/"/>
    
      <category term="TensorFlow" scheme="http://wongchen.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>summary2017</title>
    <link href="http://wongchen.github.io/2017/12/31/summary2017/"/>
    <id>http://wongchen.github.io/2017/12/31/summary2017/</id>
    <published>2017-12-31T07:26:51.000Z</published>
    <updated>2019-11-13T13:19:31.908Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è¯»ä¹¦"><a href="#è¯»ä¹¦" class="headerlink" title="è¯»ä¹¦"></a>è¯»ä¹¦</h2><p>ä¸å¾—ä¸è¯´kindleçœŸçš„æ˜¯ä¸ªå¥½ä¸œè¥¿,ç°åœ¨çœ‹ä¹¦é™¤äº†ç†å·¥ç§‘çš„ä¸€äº›ä¹¦éƒ½åœ¨kindleä¸‹çœ‹,å¯¹çœ¼ç›å¥½ä¹Ÿæ–¹ä¾¿,å…¶ä»–ä¹¦ç±å…¬å¼è¾ƒå¤šæˆ–è€…ä»£ç è¾ƒå¤šè¿˜çš„åœ¨ç”µè„‘ä¸Šçœ‹</p>
<h3 id="æ–‡å­¦"><a href="#æ–‡å­¦" class="headerlink" title="æ–‡å­¦"></a>æ–‡å­¦</h3><ol>
<li>äººç±»ç®€å²</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s27814883.jpg" alt></p>
<p>èµ·æºæ˜¯åœ¨Tedä¸Šçœ‹äº†ä¸€ç¯‡ä½œè€…çš„æ¼”è®²,å…´èµ·å°±æ‰“ç®—çœ‹è¿™ä¸¤æœ¬ä¹¦:äººç±»ç®€å²ä¸æœªæ¥ç®€å².ç»“æœåªçœ‹äº†ä¸€ç¯‡,è¿˜æ˜¯è·³ç€çœ‹çš„,å…¶ä¸­çš„è§‚ç‚¹è¿˜æ˜¯å¾ˆæ–°é¢–çš„,ä¸èƒ½åŒæ„æ›´å¤š.</p>
<ol>
<li>æ‹‰æ™®æ‹‰æ–¯çš„é­”å¥³</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s29195703.jpg" alt></p>
<p>ä¸€ç›´éƒ½å¾ˆå–œæ¬¢çœ‹ä¸œé‡çš„æ¨ç†å°è¯´,ä¹‹å‰ä¹Ÿçœ‹è¿‡äº†å«Œç–‘äºº, æ”¾å­¦å, å¹»å¤œâ€¦â€¦ç™½å¤œè¡Œçœ‹çš„ç”µè§†å‰§æ˜¯ä¸ªé—æ†¾,ä¹¦ç¡®å®å¤ªé•¿äº†å•Š!</p>
<p>è¿™æœ¬ä¹¦åœ¨æˆ‘çœ‹çš„æ—¶å€™è¿˜æ˜¯å¾ˆå…¥èƒœçš„,ä¸è¿‡æ›´å¤šçš„è¿˜æ˜¯å…³äºäººæ€§è·Ÿæƒ…æ„Ÿä»¥åŠAI, å°‘äº†äº›è®¸æ¨ç†çš„éƒ¨åˆ†,éš¾æ€ªçŸ¥ä¹è±†ç“£è¯„è®ºä¸€è‡´ä¸é«˜.</p>
<ol>
<li>è¿½é£ç­çš„äºº</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s1727290.jpg" alt></p>
<blockquote>
<p>ä¸ºä½ ,åƒåƒä¸‡ä¸‡é~</p>
</blockquote>
<p>è¯»å®Œä¸ç¦æ„Ÿæ…¨æˆ˜äº‰éš¾æ°‘çš„ä¸å¹¸,ç¾ä¸½åˆæ®‹å¿çš„æ•…äº‹,ç»å…¸~</p>
<p>å·²ç»å‡ ä¹å¿˜è®°å®ƒå¸¦ç»™æˆ‘çš„æœ€æ·±çš„æ„Ÿå—äº†,è¯»è¿‡~</p>
<h3 id="DL-Programming"><a href="#DL-Programming" class="headerlink" title="DL/Programming"></a>DL/Programming</h3><ol>
<li>Deep Learning (50%)</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s29133163.jpg" alt></p>
<p>ä¼ è¯´ä¸­çš„èŠ±ä¹¦,è¿˜æ²¡è¯»å®Œ,è¯»åˆ°åé¢æ„Ÿè§‰çŸ¥è¯†å‚¨å¤‡æœ‰äº›ä¸è¶³,å°±å…ˆæš‚åœä¸‹æ¥äº†,ä¹¦æ¶‰åŠçš„èŒƒå›´æ¯”è¾ƒå¹¿,åˆšå¼€å§‹è‹±æ–‡ä¸€ç« ä¸€ç« è¯»çš„,è¿˜æ˜¯æœ‰äº›åƒåŠ›,åæ¥åˆè¯»äº†ä¸€éä¸­æ–‡,ç°åœ¨è¿˜è½ç€å¥½å‡ ç« çš„æ€»ç»“æ²¡æœ‰åš~  :fire:</p>
<ol>
<li>PRML(in progressâ€¦. ) ğŸš²ğŸš²</li>
</ol>
<p><img src="https://img1.doubanio.com/lpic/s4254558.jpg" alt></p>
<p>ç»å…¸å¼æ•™ç§‘ä¹¦,è¯»èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹éš¾,æ‰“ç®—æ¯å¤©æƒ³èµ·æ¥,é—²ä¸‹æ¥çš„æ—¶å€™æ‹¿èµ·æ¥è¯»ä¸€è¯»å°±å¥½â€¦â€¦æ…¢æ…¢å•ƒå§â˜ ï¸â˜ ï¸</p>
<p>ç›®å‰ä¸­è‹±æ–‡æ··ç€è¯»</p>
<ol>
<li>PGM (in progress)ğŸš²ğŸš²</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s28057016.jpg" alt></p>
<p>è¯»è¿™æœ¬ä¹¦æ˜¯è·Ÿç€courseraä¸Šçš„ä¸€ä¸ªè¯¾ç¨‹åŒæ­¥å­¦ä¹ çš„,å¯æƒœè¿˜æ²¡è¯»å¤šå°‘,æ˜å¹´ç»§ç»­â€¦.ğŸ‘ŠğŸ‘Š</p>
<ol>
<li>Cocoa Programming for OS X (5th Edition)</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s28041282.jpg" alt></p>
<p>æš‘å‡æ”¾å‡å›å®¶å‘†äº†ä¸¤å‘¨,æ–­æ–­ç»­ç»­çœ‹äº†é‚£ä¹ˆäº›æ—¶é—´,è·Ÿç€å­¦äº†ä¸€äº›ç®€å•çš„æ“ä½œ,åº”è¯¥å·®ä¸å¤šè¯»äº†50%å§,è·Ÿç€ä¹¦æ“ä½œè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„,å°±æ˜¯ç‰ˆæœ¬ç¨å¾®æœ‰ç‚¹æ—§äº†,è®¸å¤šæ“ä½œåŠapiéœ€è¦æ”¹ä¸€ä¸‹ğŸ’ªğŸ’ª</p>
<ol>
<li>Python æºç å‰–æ</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s3435132.jpg" alt></p>
<p>æˆ‘è§‰å¾—è¿™æœ¬ä¹¦å¾ˆæ£’,å¯ä»¥è®©æˆ‘ç†è§£åˆ°pythonçš„å†…éƒ¨çš„ä¸€äº›å¾ˆå¥½çš„è®¾è®¡,æˆ‘æ²¡æœ‰ä»”ç»†è¯»Cçš„éƒ¨åˆ†,æ²¡å¿…è¦,éœ€è¦çš„æ—¶å€™ä¼šå†è®¤çœŸè¯»ä¸€é.</p>
<ol>
<li>æµç•…çš„Python(90%)</li>
</ol>
<p><img src="https://img3.doubanio.com/lpic/s29434304.jpg" alt></p>
<p>å¯ä»¥è¯´æ˜¯2017å¹´æœ€ä½³Pythonè¿›é˜¶ä¹¦ç›®, å¤šä¸ªæŠ€æœ¯å¤§å’–å¼ºçƒˆæ¨è,ä»æˆ‘èœé¸¡çš„è§’åº¦æ¥çœ‹è¿˜æ˜¯è¦èŠ±äº›æ—¶é—´å»è¯»çš„,è±†ç“£ä¸Šé‚£äº›èŠ±70å°æ—¶è¯»å®Œçš„ç®€ç›´äº†,è¯»ä¹¦è¿˜è¦ä»¥å°æ—¶æ¥è®¡æ—¶å—~~ğŸ™ˆğŸ™ˆ</p>
<p>æ˜å¹´å‡†å¤‡éƒ½æ¢åˆ°Python3ä¸‹å»å·¥ä½œ,æ­£å¼æ”¾å¼ƒPython2</p>
<blockquote>
<p>æŠŠç›¸å…³çš„ä¸»é¢˜ä¸javaæ¯”è¾ƒå¯ä»¥ä½“ä¼šåˆ°æ›´å¤šä¹è¶£</p>
</blockquote>
<p>å¯æƒœæˆ‘è¿˜ä¸ä¼šjava</p>
<p>å…¶ä»–åº”è¯¥æ²¡äº†,è¯»ä¹¦å·¥å…·ä¸€èˆ¬å°±æ˜¯kindle for mobi, iBook for epub, pdf expert for pdf.</p>
<h2 id="å…¬å¼€è¯¾"><a href="#å…¬å¼€è¯¾" class="headerlink" title="å…¬å¼€è¯¾"></a>å…¬å¼€è¯¾</h2><p>coursera ä¸Šçœ‹äº†å‡ é—¨</p>
<ol>
<li>ç¬¬ä¸€ä¸ªå°±æ˜¯Ngçš„æ·±åº¦å­¦ä¹ ç³»åˆ—è¯¾ç¨‹,åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†,å­¦èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„,ä½†æ˜¯æ²¡æœ‰ä»”ç»†åšè®°å½•ä¹Ÿæ— æ‰€è°“äº†.</li>
</ol>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fn00pu433cj30m609u0tw.jpg" alt></p>
<ol>
<li>PGM/RL,CS249-112/CS231n2017</li>
</ol>
<ul>
<li>[ ] è¿˜æ²¡å­¦å®Œ,æœ‰ç‚¹éš¾,åˆå †åˆ°æ˜å¹´äº†</li>
<li>[ ] æ¦‚ç‡å›¾æ¨¡å‹</li>
<li>[ ] å¼ºåŒ–å­¦ä¹ </li>
</ul>
<h2 id="å­¦æœ¯"><a href="#å­¦æœ¯" class="headerlink" title="å­¦æœ¯"></a>å­¦æœ¯</h2><p>è¯»äº†è®¸å¤šè®ºæ–‡,å·®ä¸å¤š100ç¯‡å§~,è¿™é‡Œå°±ä¸å¤šè¯´äº†</p>
<ul>
<li>[ ] æ˜å¹´äº‰å–åŠªåŠ›å‘ç¯‡è®ºæ–‡</li>
</ul>
<h3 id="ğŸ”‘ğŸ”—ğŸ“Œ"><a href="#ğŸ”‘ğŸ”—ğŸ“Œ" class="headerlink" title="ğŸ”‘ğŸ”—ğŸ“Œ"></a>ğŸ”‘ğŸ”—ğŸ“Œ</h3><ul>
<li>åŠ æ·±äº†TensorFlowçš„å­¦ä¹ </li>
<li>ç®€å•ä½¿ç”¨caffe, chainerå’ŒMXNet,</li>
<li>ç†Ÿç»ƒpytorch</li>
<li>æ¢äº†pixelæ‰‹æœºâŒğŸ“±</li>
<li>ç®¡ç†å®éªŒå®¤Linuxè®¡ç®—æœåŠ¡å™¨</li>
</ul>
<h3 id="ğŸ”œğŸ”œğŸ”œ"><a href="#ğŸ”œğŸ”œğŸ”œ" class="headerlink" title="ğŸ”œğŸ”œğŸ”œ"></a>ğŸ”œğŸ”œğŸ”œ</h3><p>æ˜å¹´è¿˜æœ‰è®¸å¤šä¸œè¥¿è¦åš,å‹åŠ›æ›´å¤§äº†,åŠ æ²¹</p>
<ul>
<li>[ ] å­¦ä¹ kotlinè¯­è¨€(Android å®˜æ–¹é’¦å®š)</li>
<li>[ ] å¤šè¯»ä¹¦,å¤šçœ‹æŠ¥,å¤šæ‰“çƒ</li>
<li>[ ] TensorFlow mobile</li>
<li>[ ] golang, Ruby, Haskell, Docker</li>
<li>[ ] python2 â©python3</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è¯»ä¹¦&quot;&gt;&lt;a href=&quot;#è¯»ä¹¦&quot; class=&quot;headerlink&quot; title=&quot;è¯»ä¹¦&quot;&gt;&lt;/a&gt;è¯»ä¹¦&lt;/h2&gt;&lt;p&gt;ä¸å¾—ä¸è¯´kindleçœŸçš„æ˜¯ä¸ªå¥½ä¸œè¥¿,ç°åœ¨çœ‹ä¹¦é™¤äº†ç†å·¥ç§‘çš„ä¸€äº›ä¹¦éƒ½åœ¨kindleä¸‹çœ‹,å¯¹çœ¼ç›å¥½ä¹Ÿæ–¹ä¾¿,å…¶ä»–ä¹¦ç±å…¬å¼è¾ƒå¤šæˆ–è€…ä»£ç è¾ƒå¤šè¿˜çš„åœ¨ç”µè„‘ä¸Š
    
    </summary>
    
      <category term="æ€»ç»“" scheme="http://wongchen.github.io/categories/%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="æ€»ç»“" scheme="http://wongchen.github.io/tags/%E6%80%BB%E7%BB%93/"/>
    
      <category term="2017" scheme="http://wongchen.github.io/tags/2017/"/>
    
  </entry>
  
  <entry>
    <title>TensorFlow æ•°æ®è¾“å…¥æ–¹å¼</title>
    <link href="http://wongchen.github.io/2017/09/11/tf-datareader/"/>
    <id>http://wongchen.github.io/2017/09/11/tf-datareader/</id>
    <published>2017-09-11T10:00:53.000Z</published>
    <updated>2018-01-17T12:50:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘ä½¿ç”¨TensorFlowæ—¶å€™å‘ç°è¯»å…¥å›¾ç‰‡æ•°æ®çš„æ—¶å€™å¾ˆéš¾å—,è‡ªå·±å†™çš„ä¸€äº›ä»£ç åˆæ„Ÿè§‰å¾ˆè¹©è„š,å®˜æ–¹çš„æ–‡æ¡£æ˜“è¯»æ€§å¤ªä½,å¤ªè´¹åŠ²äº†.<br>æ‰“ç®—å¥½å¥½æ•´ç†ä¸€ä¸‹æ•°æ®è¾“å…¥è¿™éƒ¨åˆ†ä»£ç .</p>
<h2 id="æ–¹å¼"><a href="#æ–¹å¼" class="headerlink" title="æ–¹å¼"></a>æ–¹å¼</h2><h3 id="ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­"><a href="#ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­" class="headerlink" title="ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­"></a>ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­</h3><p>è¿™ç§æ–¹å¼ç®€ç›´æš´åŠ›,è€æ—©ä¹‹å‰æˆ‘æ•°æ®æ²¡æœ‰å¾ˆå¤š,å°±æ˜¯è¿™ä¹ˆåšçš„,æŠŠæ•°æ®å…ˆç”¨<code>pickle</code>,å°†å…¶ä¿å­˜ä¸‹æ¥,è¿è¡Œçš„æ—¶å€™ç›´æ¥ä»ä¿å­˜çš„æ–‡ä»¶ä¸­è·å–,è¿™ç§æ–¹å¼åªé€‚åˆä¸€äº›å°å‹çš„æ–‡æœ¬æ–‡ä»¶æ•°æ®,å›¾ç‰‡æ•°æ®è¿˜æ˜¯ç®—äº†,ç”µè„‘ä¼šå¡æ­»çš„.</p>
<h3 id="åŠ¨æ€è¾“å…¥placeholder"><a href="#åŠ¨æ€è¾“å…¥placeholder" class="headerlink" title="åŠ¨æ€è¾“å…¥placeholder"></a>åŠ¨æ€è¾“å…¥placeholder</h3><p>åœ¨æ¯æ¬¡è®­ç»ƒæ—¶åŠ è½½ä¸€äº›æ•°æ®åˆ°å†…å­˜å½“ä¸­,ä»¥placeholderçš„å½¢å¼feedåˆ°graphå½“ä¸­.<br>è¿™ç§æ–¹å¼éœ€è¦è‡ªå·±å†™ä¸€äº›ä»£ç ,æ¯”å¦‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ImageData</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">___init__</span><span class="params">(self, batch_size)</span>:</span></span><br><span class="line">	<span class="comment"># define some attr</span></span><br><span class="line">    self.batch_size = batch_size</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">next_batch</span><span class="params">(self)</span>:</span></span><br><span class="line">    ....</span><br><span class="line">	<span class="keyword">return</span> np.array([imread(<span class="string">'name%s.png'</span>%i <span class="keyword">for</span> i <span class="keyword">in</span> range(self.batch_seze))]), labels</span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">image_reader = ImageData(batch_size)</span><br><span class="line"><span class="keyword">for</span> step <span class="keyword">in</span> range(<span class="number">10001</span>):</span><br><span class="line">  batch = image_reader.next_batch()</span><br><span class="line">  sess.run(batch, feed_dict=&#123;x: batch[<span class="number">0</span>], y: batch[<span class="number">1</span>]&#125;)</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure></p>
<p>åœ¨è®­ç»ƒæ—¶å®ä¾‹åŒ–ç›¸åº”çš„ç±», æ¯æ¬¡è¿è¡ŒåŠ è½½ä¸€æ¬¡,éœ€è¦è¯´æ˜çš„æ˜¯,è¿™æ ·éœ€è¦å¤§é‡åœ°é‡å¤è¯»å†™å¤šä¸ªå°æ–‡ä»¶,æ‰€ä»¥æŠŠè¿™äº›æ–‡ä»¶æ”¾åˆ°å›ºæ€ç¡¬ç›˜ä¸‹é¢å¯¹æå‡è¯»å–é€Ÿåº¦æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©.</p>
<p>è¿™ä¸ªæ–¹æ³•æ˜¯æ¯”è¾ƒç±»ä¼¼äºpytorchçš„<code>dataset</code>å’Œ<code>dataloader</code>çš„,åŒæ—¶é‡‡ç”¨pytorchçš„è¿™ä¸¤ä¸ªç±»æ¥å®ç°TFä¸­çš„æ•°æ®è¾“å…¥ä¹Ÿæ˜¯å¾ˆå¯è¡Œçš„.</p>
<p>è¯¦æƒ…è§<a href="http://pytorch.org/tutorials/beginner/data_loading_tutorial.html" target="_blank" rel="noopener">Data Loading and Processing Tutorial</a>.</p>
<h3 id="tfrecord"><a href="#tfrecord" class="headerlink" title="tfrecord"></a>tfrecord</h3><p>TFæ¨èçš„ä¸€ç§æ–‡ä»¶æ ¼å¼ä¸ºtfrecord,æŠŠå¤šä¸ªé›¶ç¢çš„åŸå§‹æ–‡ä»¶ç¼–ç ä¸ºä¸€ä¸ªè¾ƒå¤§çš„tfrecordæ–‡ä»¶,è¿è¡Œæ—¶é€šè¿‡è§£ç å™¨å°†å…¶è½¬åŒ–ä¸º<code>Tensors</code>, <a href="https://www.tensorflow.org/api_guides/python/reading_data" target="_blank" rel="noopener">è¿™ç¯‡tutorial</a>è§£é‡Šäº†TFä¸­è¯»å…¥æ•°æ®çš„æ–¹æ³•,è¿™é‡Œä»£ç å·²ç»å†™å¾—å¾ˆå¥½äº†,ä½†è¯»å®Œå‘ç°è¿˜æ˜¯ä¸ä¼šâ€¦â€¦</p>
<p>å¯èƒ½ç”¨åˆ°çš„TFå¯¹è±¡å’Œæ–¹æ³•, (å…ˆå¤§è‡´çœ‹åå­—äº†è§£ä¸€ä¸‹,è¯¦ç»†åé¢ä¼šæ¶‰åŠåˆ°):</p>
<ul>
<li><a href="https://www.tensorflow.org/api_docs/python/tf/TFRecordReader" target="_blank" rel="noopener"><code>tf.TFRecordReader</code></a></li>
<li><code>tf.train.string_input_producer</code></li>
<li><code>tf.decode_raw()</code></li>
<li><code>tf.train.shuffle_batch()</code></li>
<li><a href="https://www.tensorflow.org/api_docs/python/tf/parse_single_example" target="_blank" rel="noopener"><code>tf.parse_single_example</code></a></li>
<li><code>tf.train.Coordinator()</code></li>
<li><code>tf.train.start_queue_runners</code></li>
</ul>
<h3 id="æ•°æ®è½¬åŒ–"><a href="#æ•°æ®è½¬åŒ–" class="headerlink" title="æ•°æ®è½¬åŒ–"></a>æ•°æ®è½¬åŒ–</h3><p>é¦–å…ˆé€šè¿‡ä¸€ä¸ª<code>tf.TFRecordWriter</code>å¯¹è±¡å°†åŸå§‹é›¶ç¢å°æ–‡ä»¶è½¬åŒ–ä¸ºtfrecordæ ¼å¼æ–‡ä»¶,ä»£ç å‚è€ƒæŸä¸ªåœ°æ–¹çš„:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">writer = tf.python_io.TFRecordWriter(<span class="string">'./data/test_deepmatching.tfrecords'</span>) <span class="comment"># åˆå§‹åŒ–TFRecordWriterå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># write exanple</span></span><br><span class="line">img_raw = img.tobytes()</span><br><span class="line">example = tf.train.Example(features=tf.train.Features(feature=&#123;</span><br><span class="line">           <span class="string">'label'</span>: tf.train.Feature(int64_list=tf.train.Int64List(value=[<span class="number">1</span>])),</span><br><span class="line">           <span class="string">'img_raw'</span>: tf.train.Feature(bytes_list=tf.train.BytesList(value=[img_raw]))</span><br><span class="line">                    &#125;))</span><br><span class="line">writer.write(example.SerializeToString())</span><br><span class="line"></span><br><span class="line">....</span><br><span class="line">writer.close()</span><br></pre></td></tr></table></figure>
<h3 id="è¯»å…¥tfrecord"><a href="#è¯»å…¥tfrecord" class="headerlink" title="è¯»å…¥tfrecord"></a>è¯»å…¥tfrecord</h3><p>TFå°†æ–‡ä»¶åç”Ÿæˆé˜Ÿåˆ—,å¹¶è¡Œè§£ç è¯»å–é‡Œé¢çš„Tensors.</p>
<p><img src="https://www.tensorflow.org/images/AnimatedFileQueues.gif" alt></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_and_decode</span><span class="params">(filename)</span>:</span></span><br><span class="line">    filename_queue = tf.train.string_input_producer([filename])</span><br><span class="line">    reader = tf.TFRecordReader()</span><br><span class="line">    _, serialized_example = reader.read(filename_queue)  </span><br><span class="line">    features = tf.parse_single_example(serialized_example,</span><br><span class="line">               features=&#123;</span><br><span class="line">                   <span class="string">'label'</span>: tf.FixedLenFeature([], tf.int64),</span><br><span class="line">                   <span class="string">'img_raw'</span> : tf.FixedLenFeature([], tf.string),</span><br><span class="line">               &#125;)</span><br><span class="line"></span><br><span class="line">    img = tf.decode_raw(features[<span class="string">'img_raw'</span>], tf.uint8)</span><br><span class="line">    <span class="keyword">print</span> img.shape</span><br><span class="line">    img = tf.reshape(img, [<span class="number">65</span>, <span class="number">130</span>, <span class="number">1</span>])</span><br><span class="line">    <span class="comment"># img = tf.cast(img, tf.float32) * (1. / 255) - 0.5</span></span><br><span class="line">    <span class="comment"># pre-processing</span></span><br><span class="line">    label = tf.cast(features[<span class="string">'label'</span>], tf.int32)</span><br><span class="line">    <span class="keyword">return</span> img, label</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°å‡½æ•°è¿”å›æˆ‘ä»¬çš„img å’Œlabel <code>ops</code>,è¿è¡Œæ—¶å€™è¿˜éœ€è¦runä¸€ä¸‹è¿™å‡ ä¸ªops.</p>
<p>ä¸ºäº†å®ç°å¹¶è¡Œè¯»å–,æˆ‘ä»¬éœ€è¦åˆ›å»ºå¤šä¸ªçº¿ç¨‹,ä½¿ç”¨<code>QueueRunner</code>å…‘ç°æ¥è¿è¡Œ.</p>
<p>éœ€è¦ä¸€ä¸ª<code>Coordnator</code>å¯¹è±¡æ¥ç®¡ç†è¿™äº›çº¿ç¨‹.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">coord = tf.train.Coordinator()</span><br><span class="line">threads = tf.train.start_queue_runners(sess=sess, coord=coord)</span><br></pre></td></tr></table></figure>
<p>è®­ç»ƒæ—¶,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for step in range(10001):</span><br><span class="line">  batch = sess.run([img_batch, label_batch])</span><br><span class="line">  sess.run(train_op)</span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">coord.request_stop()</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ç§è¯»å–ä¸æ˜¯å¾ˆå¥½,å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é”™è¯¯,å¯¼è‡´çº¿ç¨‹æ— æ³•æ­£å¸¸å…³é—­,è¿˜åœ¨ç­‰å¾…è¯»å–é˜Ÿåˆ—,å¿…é¡»å¼ºè¡Œkillæ‰æ‰å¯ä»¥,å¯ä»¥é‡‡ç”¨å®˜æ–¹çš„ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    while not coord.should_stop():</span><br><span class="line">        # Run training steps or whatever</span><br><span class="line">        sess.run(train_op)</span><br><span class="line"></span><br><span class="line">except tf.errors.OutOfRangeError:</span><br><span class="line">    print(&apos;Done training -- epoch limit reached&apos;)</span><br><span class="line">finally:</span><br><span class="line">    # When done, ask the threads to stop.</span><br><span class="line">    coord.request_stop()</span><br><span class="line"></span><br><span class="line"># Wait for threads to finish.</span><br><span class="line">coord.join(threads)</span><br><span class="line">sess.close()</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘ä½¿ç”¨TensorFlowæ—¶å€™å‘ç°è¯»å…¥å›¾ç‰‡æ•°æ®çš„æ—¶å€™å¾ˆéš¾å—,è‡ªå·±å†™çš„ä¸€äº›ä»£ç åˆæ„Ÿè§‰å¾ˆè¹©è„š,å®˜æ–¹çš„æ–‡æ¡£æ˜“è¯»æ€§å¤ªä½,å¤ªè´¹åŠ²äº†.&lt;br&gt;æ‰“ç®—å¥½å¥½æ•´ç†ä¸€ä¸‹æ•°æ®è¾“å…¥è¿™éƒ¨åˆ†ä»£ç .&lt;/p&gt;
&lt;h2 id=&quot;æ–¹å¼&quot;&gt;&lt;a href=&quot;#æ–¹å¼&quot; class=&quot;headerlink&quot; tit
    
    </summary>
    
      <category term="TensorFlow" scheme="http://wongchen.github.io/categories/TensorFlow/"/>
    
    
      <category term="TensorFlow" scheme="http://wongchen.github.io/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>pythonä¹‹context managerå­¦ä¹ </title>
    <link href="http://wongchen.github.io/2017/09/09/python-context-manager/"/>
    <id>http://wongchen.github.io/2017/09/09/python-context-manager/</id>
    <published>2017-09-08T16:43:18.000Z</published>
    <updated>2017-09-08T09:12:35.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="What-is-context-manager"><a href="#What-is-context-manager" class="headerlink" title="What is context manager?"></a>What is context manager?</h2><blockquote>
<p>A basic issue in programming is <a href="https://en.wikipedia.org/wiki/Resource_management_(computing" target="_blank" rel="noopener">resource management</a>): a <a href="https://en.wikipedia.org/wiki/Resource_(computing" target="_blank" rel="noopener">resource</a>) is anything in limited supply, notably file handles, <a href="https://en.wikipedia.org/wiki/network_socket" target="_blank" rel="noopener">network sockets</a>, locks, etc., and a key problem is making sure these are <em>released</em> after they are <em>acquired.</em> If they are not released, you have a <a href="https://en.wikipedia.org/wiki/resource_leak" target="_blank" rel="noopener">resource leak</a>, and the system may slow down or crash. More generally, you may want cleanup actions to always be done, other than simply releasing resources.</p>
</blockquote>
<p>å°±åƒå…¶åå­—ä¸€æ ·,context managerè´Ÿè´£ç®¡ç†ä¸€å®šçš„ä¸Šä¸‹æ–‡ç¯å¢ƒ,æŒ‰ç…§ä½ çš„è®¾å®š,åŠæ—¶<strong>åˆ†é…</strong>ä¸€å®šçš„èµ„æº,åœ¨å®Œæˆç›¸åº”çš„å·¥ä½œä¹‹å,åŠæ—¶<strong>é‡Šæ”¾</strong>è¿™äº›èµ„æº. è€Œä¸”ä¸æ­¢æ˜¯é‡Šæ”¾èµ„æº,ä½ è¿˜å¯ä»¥åšå…¶ä»–ä½ æƒ³çš„äº‹æƒ…â€¦â€¦</p>
<p>Pythonæä¾›äº†ä¸€ç§ç‰¹å®šçš„è¯­æ³•ç»“æ„å¯ä»¥ç”¨æ¥åšå¦‚æ­¤å·¥ä½œ,è®¸å¤šç±»å‹éƒ½æ”¯æŒcontext text,æ¯”å¦‚buit-in <code>File</code>å¯¹è±¡.</p>
<p>å¸¸ç”¨çš„æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">with open(file_name, &apos;rb&apos;) as f:</span><br><span class="line">	lines = f.readlines()</span><br><span class="line">	# other opoerations</span><br><span class="line">	</span><br><span class="line">print f.closed    # True</span><br></pre></td></tr></table></figure>
<p>i.e.åœ¨è¿™ä¸ªä¾‹å­é‡Œcontext managerä¼šè‡ªåŠ¨å…³é—­fæ–‡ä»¶å¯¹è±¡,ä¸éœ€è¦ç”¨æˆ·æ˜¾ç¤ºåœ°æ‰§è¡Œä»£ç å…³é—­,æ›´åŠ å®‰å…¨.</p>
<p>ä»”ç»†ç ”ç©¶ä¼šå‘ç°,è¿™ç±»å¯¹è±¡,éœ€è¦å®ç°<code>__enter__</code>å’Œ<code>__exit__</code>ä¸¤ä¸ªæ–¹æ³•å±æ€§,ä¸Šé¢çš„ä¾‹å­ç­‰ä»·äº</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">f = open(file_name, <span class="string">'rb'</span>)</span><br><span class="line">f.__enter__()</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">  BLOCK Operations</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">  f.__exit__()</span><br></pre></td></tr></table></figure>
<h2 id="How-to-implement"><a href="#How-to-implement" class="headerlink" title="How to implement?"></a>How to implement?</h2><p>é¦–å…ˆ,é€šè¿‡å®ç°<code>__enter__</code>å’Œ<code>__exit__</code>è¿™ä¸¤ä¸ªåè®®æ–¹æ³•,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>with expre [as var]:</code>è¯­æ³•æ¥ä½¿ç”¨context manager.å¦‚:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class File(object):</span><br><span class="line">    def __init__(self, file_name, method):</span><br><span class="line">        self.file_obj = open(file_name, method)</span><br><span class="line">    def __enter__(self):</span><br><span class="line">        return self.file_obj</span><br><span class="line">    def __exit__(self, type, value, traceback):</span><br><span class="line">        self.file_obj.close()</span><br></pre></td></tr></table></figure>
<p><code>__enter__</code>å°†è¿”å›å€¼ä¼ å…¥<code>as</code>åé¢çš„<code>var</code>å˜é‡,<code>block</code>é€€å‡ºæ—¶æ‰§è¡Œ<code>__exit__</code>æ–¹æ³•,æ›´é€šå¸¸ä¸€äº›,<code>__exit__</code>æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ª<code>bool</code>å€¼è¡¨ç¤ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸. åŸºäºä»¥ä¸Š<code>File</code>ç±»çš„å®šä¹‰å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„<code>with</code>statement.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with File(&apos;demo.txt&apos;, &apos;w&apos;) as opened_file:</span><br><span class="line">    opened_file.write(&apos;Hola!&apos;)</span><br></pre></td></tr></table></figure>
<p>å¤„ç†å¼‚å¸¸ä¹ŸåŸºæœ¬åŒç†.</p>
<h2 id="contextlib-Utilities-for-with-statement-contexts"><a href="#contextlib-Utilities-for-with-statement-contexts" class="headerlink" title="contextlib:  Utilities for with-statement contexts"></a>contextlib:  Utilities for <a href="https://docs.python.org/2/reference/compound_stmts.html#with" target="_blank" rel="noopener"><code>with</code></a>-statement contexts</h2><p>çœ‹ä¸€ä¸‹è¿™ä¸ªbuilt-in moudule<code>contextlib</code></p>
<blockquote>
<p>This module provides utilities for common tasks involving the <a href="https://docs.python.org/2/reference/compound_stmts.html#with" target="_blank" rel="noopener"><code>with</code></a> statement. For more information see also <a href="https://docs.python.org/2/library/stdtypes.html#typecontextmanager" target="_blank" rel="noopener">Context Manager Types</a> and <a href="https://docs.python.org/2/reference/datamodel.html#context-managers" target="_blank" rel="noopener">With Statement Context Managers</a>.</p>
</blockquote>
<h3 id="contextlib-contextmanager"><a href="#contextlib-contextmanager" class="headerlink" title="contextlib.contextmanager"></a>contextlib.contextmanager</h3><p>å®˜æ–¹çš„ä¾‹å­æ˜¯:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from contextlib import contextmanager</span><br><span class="line"></span><br><span class="line">@contextmanager</span><br><span class="line">def tag(name):</span><br><span class="line">    print &quot;&lt;%s&gt;&quot; % name</span><br><span class="line">    yield</span><br><span class="line">    print &quot;&lt;/%s&gt;&quot; % name</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; with tag(&quot;h1&quot;):</span><br><span class="line">...    print &quot;foo&quot;</span><br><span class="line">...</span><br><span class="line">&lt;h1&gt;</span><br><span class="line">foo</span><br><span class="line">&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°æ˜¯ä¸ªdecoratorå‡½æ•°,å‚è€ƒä¹‹å‰çš„<a href="https://wongchen.github.io/2017/08/19/python-decorator/">ä¸€ç¯‡</a>,å®ƒå¯ä»¥å°†å‡½æ•°åŒ…è£…ä¸ºcontext manager,æ— éœ€è‡ªå·±æ˜¾ç¤ºä¸ºå…¶å®ç°<code>__enter__</code>å’Œ<code>__exit__</code>æ–¹æ³•.</p>
<p>è¿™ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªiterator,å¯ä»¥ä½¿ç”¨<code>yield</code>å…³é”®å­—</p>
<blockquote>
<p>At the point where the generator yields, the block nested in the <a href="https://docs.python.org/2/reference/compound_stmts.html#with" target="_blank" rel="noopener"><code>with</code></a> statement is executed.</p>
</blockquote>
<p>yieldä¹‹å,ä¾¿ä¼šæ‰§è¡Œå—ä¸‹çš„å†…å®¹.</p>
<p>æ”¹å†™ä¸Šé¢çš„ä¾‹å­ä¸º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@contextmanager</span><br><span class="line">def opened(filename, mode=&quot;r&quot;):</span><br><span class="line">    f = open(filename, mode)</span><br><span class="line">    try:</span><br><span class="line">        yield f</span><br><span class="line">    finally:</span><br><span class="line">        f.close()</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;What-is-context-manager&quot;&gt;&lt;a href=&quot;#What-is-context-manager&quot; class=&quot;headerlink&quot; title=&quot;What is context manager?&quot;&gt;&lt;/a&gt;What is context 
    
    </summary>
    
      <category term="python" scheme="http://wongchen.github.io/categories/python/"/>
    
    
      <category term="python" scheme="http://wongchen.github.io/tags/python/"/>
    
      <category term="content manager" scheme="http://wongchen.github.io/tags/content-manager/"/>
    
  </entry>
  
  <entry>
    <title>pythonä¹‹generatorå­¦ä¹ </title>
    <link href="http://wongchen.github.io/2017/08/20/python-generator/"/>
    <id>http://wongchen.github.io/2017/08/20/python-generator/</id>
    <published>2017-08-19T16:43:18.000Z</published>
    <updated>2017-09-14T16:57:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h2><p>å…ˆçœ‹ä¸€ä¸ªé—®é¢˜: å‡è®¾æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªéœ€è¦é•¿æ—¶é—´å“åº”æ‰èƒ½å¾—åˆ°è¿”å›å€¼çš„æƒ…å¢ƒ,æ¯”å¦‚æ·±åº¦å­¦ä¹ ä¸­çš„å¤§è®¡ç®—æˆ–è€…ç½‘ç»œè¾ƒé•¿æ—¶é—´çš„å“åº”ç­‰(è¿™é‡Œæˆ‘ä»¬ç”¨<code>sleep()</code>å‡½æ•°æ¥ä»£æ›¿),æ¯æ¬¡éœ€è¦è¾ƒé•¿æ—¶é—´çš„è®¡ç®—æ‰èƒ½å¾—åˆ°ç»“æœ.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">long_time_compute</span><span class="params">()</span>:</span></span><br><span class="line">  rv = list()</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    rv.append(i)</span><br><span class="line">  <span class="keyword">return</span> rv</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šé¢æ‰€è¿°,å‡å¦‚æˆ‘æƒ³å¾—åˆ°çš„æœ€ç»ˆç»“æœå«10ä¸ªå€¼,æˆ‘éœ€è¦20ç§’æ‰èƒ½è§‚å¯Ÿåˆ°æœ€åç»“æœ,ä½†æ˜¯å‡å¦‚åŒ…å«æ›´é•¿çš„å€¼(å¦‚100å‘¢)è€Œä¸”æˆ‘æƒ³è§‚å¯Ÿå‰å‡ ä¸ªå€¼å‘¢? å› ä¸ºä»å‰å‡ ä¸ªå€¼å°±èƒ½å‘ç°ä¸€äº›æœ‰æ„ä¹‰çš„ä¸œè¥¿,æˆ‘ä¸éœ€è¦è§‚å¯Ÿå…¨éƒ¨çš„å€¼å°±èƒ½å¾—åˆ°æˆ‘æƒ³è¦çš„,æ€ä¹ˆåŠ?</p>
<p>æ˜æ˜¾è¦ç­‰åˆ°å…¨éƒ¨å€¼è®¡ç®—å®Œéƒ½è¿”å›æ˜¯ä¸ç¬¦åˆé€»è¾‘çš„,å¦‚æœæˆ‘ä»¬åªæ˜¯è§‚å¯Ÿç»“æœä¸ç”¨åˆ°è¿”å›å€¼çš„æƒ…å†µå¯ä»¥æ¯æ¬¡éƒ½<code>print</code>æ‰“å°å‡ºæ¯æ¬¡çš„ç»“æœ,ä½†æ˜¯è¿™ä¹Ÿä¸èƒ½è§£å†³æ‰€æœ‰çš„æƒ…å†µ. å¹¸è¿çš„æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>generator</code>æ¥è§£å†³è¿™ç§é—®é¢˜.</p>
<h2 id="What-is-python-Generator"><a href="#What-is-python-Generator" class="headerlink" title="What is python Generator?"></a>What is python Generator?</h2><blockquote>
<p>Introduced in Python 2.2 as an optional feature and finalized in version 2.3, <a href="https://en.wikipedia.org/wiki/Generator_(computer_science)" target="_blank" rel="noopener">generators</a> are Pythonâ€™s mechanism for <a href="https://en.wikipedia.org/wiki/Lazy_evaluation" target="_blank" rel="noopener">lazy evaluation</a> of a function that would otherwise return a space-prohibitive or computationally intensive list.</p>
<p>A Python <em>generator</em> is a function which returns a <em>generator iterator</em> (just an object we can iterate over) by calling <code>yield</code>. <code>yield</code> may be called with a value, in which case that value is treated as the â€œgeneratedâ€ value. The <em>next time</em><code>next()</code> is called on the <em>generator iterator</em> (i.e. in the next step in a <code>for</code> loop, for example),the generator resumes execution <em>from where it called yield</em>, not from the beginning of the function. All of the state, like the values of local variables, is recovered and the generator contiues to execute until the next call to <code>yield</code>.</p>
</blockquote>
<p>generatorå¯ä»¥ä¸åƒä¸€èˆ¬çš„å‡½æ•°é‚£æ ·,ä¸€æ¬¡è¿”å›ä¸€ä¸ªå€¼,ä¸‹ä¸€æ¬¡è¿˜åœ¨ä¸Šæ¬¡æ‰§è¡Œçš„åœ°æ–¹ç»§ç»­è¿è¡Œç¨‹åºè¿”å›ä¸‹ä¸€ä¸ªå€¼,å¯ä»¥è¯´æ˜¯è¿”å›ä¸€ç³»åˆ—å€¼(One at a time). </p>
<h3 id="Generator-expressions"><a href="#Generator-expressions" class="headerlink" title="Generator expressions"></a>Generator expressions</h3><blockquote>
<p>Introduced in Python 2.4, generator expressions are the lazy evaluation equivalent of list comprehensions. </p>
</blockquote>
<p>ä¸åŒäºç”Ÿæˆå™¨,ç”Ÿæˆå™¨è¡¨è¾¾å¼æ˜¯<code>list comprehensions</code>çš„generatorå½¢å¼è¡¨è¾¾.ä¸<code>list comprehensions</code>é•¿å¾—å¾ˆåƒ,ä½†æ˜¯è¿”å›ä¸€ä¸ªgeneratorè€Œä¸æ˜¯list.</p>
<p>æ­¤å¤–,generatorä¸èƒ½ç”¨ä¸‹æ ‡æ¥ç´¢å¼•.</p>
<p>å¦‚ä¸‹, è¯¦ç»†åé¢å™è¿°.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = (x for x in range(8))</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">&lt;generator object &lt;genexpr&gt; at 0x104684960&gt;</span><br><span class="line">&gt;&gt;&gt; a[2]</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">TypeError: &apos;generator&apos; object has no attribute &apos;__getitem__&apos;</span><br></pre></td></tr></table></figure>
<h2 id="å¦‚ä½•"><a href="#å¦‚ä½•" class="headerlink" title="å¦‚ä½•"></a>å¦‚ä½•</h2><p>å¯¹äºå¼€å§‹æå‡ºçš„é—®é¢˜,å¦‚ä½•ä½¿ç”¨generatoræ¥è§£å†³å‘¢?</p>
<p>æˆ‘ä»¬æœ€åæƒ³è¦çš„æ˜¯ä¸€ä¸ªå¯ä»¥è¿­ä»£çš„å¯¹è±¡,å¤§è‡´ä¸º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = iter(rv)</span><br><span class="line">next_value = next(x)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬çŸ¥é“pythonä¸­è®¸å¤šæ–¹æ³•å’Œå±æ€§éƒ½æ˜¯æœ‰å¯¹åº”çš„double underscoreå±æ€§å’Œæ–¹æ³•çš„(å¦‚<code>__add__</code>).ä¸Šé¢çš„å¯¹åº”ä¸º<code>__iter__</code>(python2ä¸­æ˜¯<code>next()</code>)å’Œ<code>__next__</code>æ–¹æ³•.</p>
<p>äºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç±»,å®ç°ä¸Šè¿°ä¸¤ç§æ–¹æ³•æ¥å®ç°generator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComputerLong</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.last = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> self</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">    rv = self.last</span><br><span class="line">    self.last += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> self.last &gt; <span class="number">10</span>:</span><br><span class="line">      <span class="keyword">raise</span> StopIteration()</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> rv</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™æ ·è¯»èµ·æ¥å¤ªè´¹åŠ²äº†,æ­£å¸¸ç‚¹çš„å†™æ³•è¿˜æ˜¯åº”è¯¥åƒä¸Šé¢å‡½æ•°é‚£æ ·. æ›´Generatorçš„å†™æ³•åº”è¯¥ä½¿ç”¨<code>yield</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">long_time_compute</span><span class="params">()</span>:</span></span><br><span class="line">  rv = list()</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">    sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">yield</span> i</span><br><span class="line"> <span class="comment">#   rv.append(i)</span></span><br><span class="line"> <span class="comment"># return rv</span></span><br></pre></td></tr></table></figure>
<p>Generatoræ¯æ¬¡ç”Ÿæˆä¸€ä¸ªæ–°çš„å€¼æ—¶,é‡‡ç”¨<code>yield</code>å…³é”®å­—ä»£æ›¿åŸæ¥returnçš„ä½ç½®,ç›¸å½“äºè¿”å›ä¸€ä¸ªéœ€è¦å³å¯å–çš„å€¼.</p>
<p>Generatorè¿”å›æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡,å› æ­¤å¯ä»¥ä½¿ç”¨<code>for</code>å¾ªç¯:</p>
<p>æ¯æ¬¡<code>for</code>å¾ªç¯ä¸­éœ€è¦ä¸€ä¸ªå€¼æ—¶,ä¾¿ä¼šè°ƒç”¨generatorå¯¹è±¡çš„next()æ–¹æ³•,å–å›ä¸€ä¸ªå€¼.</p>
<h2 id="generatorç»“æŸ"><a href="#generatorç»“æŸ" class="headerlink" title="generatorç»“æŸ"></a>generatorç»“æŸ</h2><p>å½“generatorå‡½æ•°ä¸­ä½¿ç”¨returnæˆ–è€…generatorè¿­ä»£åˆ°æœ€å,å°†ä¼šè¿”å›ä¸€ä¸ª<code>StopIteration</code> exception,å½“nextåˆ°æœ€åä¸€ä¸ªå€¼æ—¶å°†ä¼šæŠ¥é”™,å› æ­¤generatoråªèƒ½å¤Ÿå¾ªç¯ä¸€æ¬¡.</p>
<p><img src="/images/Screenshot2017-08-23_%E4%B8%8B%E5%8D%8810.27.24.png" alt></p>
<p>æœ€å:</p>
<ul>
<li>generatorå¯ä»¥ç”¨æ¥è¿”å›ä¸€ä¸ªè¿­ä»£å™¨,å¯ä»¥è¿”å›ä¸€ä¸ªåºåˆ—(æ¯æ¬¡ä¸€ä¸ªå€¼è€Œä¸æ˜¯ç›´æ¥å…¨éƒ¨çš„è¿”å›å€¼).</li>
<li>yieldå¯ä»¥çœ‹åšnext()æ–¹æ³•returnä¸€ä¸ªå€¼å¹¶è®°ä½è¿™ä¸ªä½ç½®,ä¸‹æ¬¡åœ¨è¿™ä¸ªä½ç½®åˆ©ç”¨next()æ–¹æ³•ä»æ—§å¦‚æ­¤.</li>
<li>python2ä¸­generator next()æ–¹æ³•ä¸º<code>g.next()</code>,è€Œpython3ä¸º<code>g.__next__()</code></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŠ¨æœº&quot;&gt;&lt;a href=&quot;#åŠ¨æœº&quot; class=&quot;headerlink&quot; title=&quot;åŠ¨æœº&quot;&gt;&lt;/a&gt;åŠ¨æœº&lt;/h2&gt;&lt;p&gt;å…ˆçœ‹ä¸€ä¸ªé—®é¢˜: å‡è®¾æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªéœ€è¦é•¿æ—¶é—´å“åº”æ‰èƒ½å¾—åˆ°è¿”å›å€¼çš„æƒ…å¢ƒ,æ¯”å¦‚æ·±åº¦å­¦ä¹ ä¸­çš„å¤§è®¡ç®—æˆ–è€…ç½‘ç»œè¾ƒé•¿æ—¶é—´çš„å“åº”ç­‰(è¿™é‡Œæˆ‘ä»¬ç”¨&lt;code&gt;s
    
    </summary>
    
      <category term="python" scheme="http://wongchen.github.io/categories/python/"/>
    
    
      <category term="python" scheme="http://wongchen.github.io/tags/python/"/>
    
      <category term="generator" scheme="http://wongchen.github.io/tags/generator/"/>
    
  </entry>
  
  <entry>
    <title>å­¦ä¹ pythonä¸­çš„Decorator</title>
    <link href="http://wongchen.github.io/2017/08/19/python-decorator/"/>
    <id>http://wongchen.github.io/2017/08/19/python-decorator/</id>
    <published>2017-08-19T12:28:27.000Z</published>
    <updated>2017-08-23T13:10:37.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="What-is-a-Decorator"><a href="#What-is-a-Decorator" class="headerlink" title="What is a Decorator?"></a>What is a Decorator?</h2><p>å‚è€ƒ<a href="https://en.wikipedia.org/wiki/Decorator_pattern" target="_blank" rel="noopener">Decorator Pattern wiki</a>,(è¿™ä¸ªç»´åŸºè¯æ¡å¤šè®²å¾—æ˜¯Java/C#/C++ç›¸å…³,ä½†æ˜¯ä¸pythonä¸­çš„å®ç°çš„åŠŸèƒ½ç±»ä¼¼.)</p>
<blockquote>
<p>A decorator is the name used for a software design pattern. Decorators dynamically alter the functionality of a function, method, or class without having to directly use subclasses or change the source code of the function being decorated.</p>
<p><strong>ä¿®é¥°æ¨¡å¼</strong>ï¼Œæ˜¯<a href="https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B" target="_blank" rel="noopener">é¢å‘å¯¹è±¡ç¼–ç¨‹</a>é¢†åŸŸä¸­ï¼Œä¸€ç§åŠ¨æ€åœ°å¾€ä¸€ä¸ªç±»ä¸­æ·»åŠ æ–°çš„è¡Œä¸ºçš„<a href="https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener">è®¾è®¡æ¨¡å¼</a>ã€‚å°±åŠŸèƒ½è€Œè¨€ï¼Œä¿®é¥°æ¨¡å¼ç›¸æ¯”ç”Ÿæˆ<a href="https://zh.wikipedia.org/wiki/%E5%AD%90%E7%B1%BB" target="_blank" rel="noopener">å­ç±»</a>æ›´ä¸ºçµæ´»ï¼Œè¿™æ ·å¯ä»¥ç»™æŸä¸ªå¯¹è±¡è€Œä¸æ˜¯æ•´ä¸ªç±»æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ä¿®é¥°æ¨¡å¼ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ‰©å……ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚åŸç†æ˜¯ï¼šå¢åŠ ä¸€ä¸ªä¿®é¥°ç±»åŒ…è£¹åŸæ¥çš„ç±»ï¼ŒåŒ…è£¹çš„æ–¹å¼ä¸€èˆ¬æ˜¯é€šè¿‡åœ¨å°†åŸæ¥çš„å¯¹è±¡ä½œä¸ºä¿®é¥°ç±»çš„æ„é€ å‡½æ•°çš„å‚æ•°ã€‚è£…é¥°ç±»å®ç°æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œåœ¨ä¸éœ€è¦ç”¨åˆ°æ–°åŠŸèƒ½çš„åœ°æ–¹ï¼Œå®ƒå¯ä»¥ç›´æ¥è°ƒç”¨åŸæ¥çš„ç±»ä¸­çš„æ–¹æ³•ã€‚ä¿®é¥°ç±»å¿…é¡»å’ŒåŸæ¥çš„ç±»æœ‰ç›¸åŒçš„æ¥å£ã€‚</p>
</blockquote>
<p><a href="https://en.wikipedia.org/wiki/Python_syntax_and_semantics#Decorators" target="_blank" rel="noopener">Python Decorator</a>:</p>
<blockquote>
<p>A decorator is any callable Python object that is used to modify a function, method or class definition. A decorator is passed the original object being defined and returns a modified object, which is then bound to the name in the definition. Python decorators were inspired in part by <a href="https://en.wikipedia.org/wiki/Java_annotation" target="_blank" rel="noopener">Java annotations</a>, and have a similar syntax; the decorator syntax is pure <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank" rel="noopener">syntactic sugar</a>, using <code>@</code> as the keyword:</p>
</blockquote>
<p>åœ¨pythonä¸­,Decoratorä¸<a href="https://en.wikipedia.org/wiki/Functional_programming" target="_blank" rel="noopener">å‡½æ•°å¼ç¼–ç¨‹(Functional Programming)</a>å’Œ<a href="https://en.wikipedia.org/wiki/Metaprogramming" target="_blank" rel="noopener">å…ƒç¼–ç¨‹(Metaprogramming)</a>æ¯æ¯ç›¸å…³,å¯ä»¥ç”¨Decoratoræ¥ä¿®æ”¹ä¸€ä¸ªå‡½æ•°,ç±»ä»¥åŠç±»çš„å®šä¹‰.</p>
<h2 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h2><p>æ¥ä¸‹æ¥ä¸¾å‡ ä¸ªç®€å•ä¾‹å­è¯´æ˜pythonä¸­ä¸ºä½•è¦ä½¿ç”¨Decorator.</p>
<ol>
<li><p>æ›´åŠ ç®€æ˜,æ˜“è¯»</p>
<p>å¦‚ä¸‹é¢ä¸¤ä¸ªä¾‹å­,åˆ†åˆ«è¦å®ç°ä¸€ä¸ªclassmethodæ–¹æ³•å’Œæµ‹è¯•å‡½æ•°è¯•è¡Œæ—¶é—´çš„åŠŸèƒ½,ä½†æ˜¯å‡½æ•°çš„å®šä¹‰å’Œæœ€åè¦å®ç°çš„åŠŸèƒ½å¤„å‡ºç°äº†åˆ†ç¦»,å¯¹å‡½æ•°çš„æ“ä½œå˜æ¢ä»£ç å‡ºç°åœ¨äº†å‡½æ•°çš„åé¢ä½ç½®,ä¸ç®¡æ˜¯ä»£ç å¤æ‚æ€§å’Œé€»è¾‘éƒ½æœ‰é—®é¢˜.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># example 1: a classmethod function</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(self)</span>:</span></span><br><span class="line">	do_something</span><br><span class="line">foo = classmethod(foo)</span><br><span class="line"></span><br><span class="line"><span class="comment"># example 2: timer for a function</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">	do_something</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(func)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">decor_fun</span><span class="params">()</span>:</span></span><br><span class="line">		start_time = time()</span><br><span class="line">		func()</span><br><span class="line">		print(<span class="string">"Cost time: "</span>, time()-start_time)</span><br><span class="line">	<span class="keyword">return</span> decor_fun</span><br><span class="line">foo = timer(foo)</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡Decoratoræ›´åŠ ç›´è§‚,æ˜äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># example 1</span></span><br><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(cls)</span>:</span></span><br><span class="line">  do_something</span><br><span class="line">  </span><br><span class="line"><span class="comment"># example 2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(func)</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">decor_fun</span><span class="params">()</span>:</span></span><br><span class="line">		start_time = time()</span><br><span class="line">		func()</span><br><span class="line">		print(<span class="string">"Cost time: "</span>, time()-start_time)</span><br><span class="line">	<span class="keyword">return</span> decor_fun</span><br><span class="line">  </span><br><span class="line"><span class="meta">@timer</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">  do_something</span><br></pre></td></tr></table></figure>
</li>
<li><p>å®ç°ç‰¹å®šçš„åŠŸèƒ½</p>
<p>å‚è€ƒ<a href="https://www.zhihu.com/question/20021164" target="_blank" rel="noopener">è¿™ä¸ªçŸ¥ä¹é—®é¢˜:Python ä¸­çš„ classmethod å’Œ staticmethod æœ‰ä»€ä¹ˆå…·ä½“ç”¨é€”?</a>,è¿˜å¯ä»¥ç»“åˆå‡½æ•°å¼ç¼–ç¨‹,æŸä¸ªå‡½æ•°åŠŸèƒ½éœ€è¦è¢«å…¶ä»–å¤šä¸ªå‡½æ•°é‡å¤å®ç°æ—¶,å¯ä»¥è€ƒè™‘Decorator,å¦‚: example 2æµ‹è¯•å‡½æ•°è¿è¡Œæ—¶é—´, è¾“å‡ºlogæ—¥å¿—ç­‰ç­‰.</p>
</li>
</ol>
<h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><p>é€šè¿‡example 2ä»¥åŠ<a href="https://en.wikipedia.org/wiki/Python_syntax_and_semantics#Decorators" target="_blank" rel="noopener">python Decorator Wiki</a>ä¸éš¾çœ‹å‡º<code>@</code>ç¬¦å·å…¶å®æ˜¯ä»¥è¦å®šä¹‰çš„å‡½æ•°<code>foo</code>ä½œä¸ºå‚æ•°ä¼ å…¥<code>@</code>åé¢çš„å‡½æ•°<code>bar</code>ä¸­,è¿”å›ä¸€ä¸ªæ–°çš„åŒæ—¶å®ç°ä¸¤è€…åŠŸèƒ½çš„å‡½æ•°.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@bar</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">"foo"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰ä»·äºä»¥ä¸‹çš„  bar(foo)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">  print(<span class="string">"foo"</span>)</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">(func)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">func_decor</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"bar/"</span>+func())  </span><br><span class="line">  <span class="keyword">return</span> func_decor</span><br></pre></td></tr></table></figure>
<h3 id="å¸¦å‚æ•°å‘¢"><a href="#å¸¦å‚æ•°å‘¢" class="headerlink" title="å¸¦å‚æ•°å‘¢?"></a>å¸¦å‚æ•°å‘¢?</h3><p>å¦‚æœæ¥è§¦è¿‡å‡½æ•°å¼ç¼–ç¨‹çš„è¯,ä¸éš¾è§£å†³è¿™ä¸ªé—®é¢˜,æ›´æ™®éçš„æ–¹æ³•å¯ä»¥ä½¿ç”¨<code>*args</code>å’Œ<code>**kwargs</code>å…³é”®å­—,é’ˆå¯¹å¸¦æœ‰é»˜è®¤å‚æ•°å’Œä¸å¸¦æœ‰é»˜è®¤å‚æ•°çš„å‡½æ•°éƒ½å¯ä»¥è§£å†³.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(func, *args, **kwargs)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">decor_func</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">    start_time = time()</span><br><span class="line">    ans = func(*args, **kwargs)</span><br><span class="line">    print(<span class="string">"cost time: "</span>, time()-start_time)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">  <span class="keyword">return</span> decor_func</span><br><span class="line"></span><br><span class="line"><span class="meta">@timer</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add2</span><span class="params">(x, y=<span class="number">66</span>)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure>
<p>å¦å¤–,Decoratorä¹Ÿæ˜¯å¯ä»¥è¾“å…¥å‚æ•°çš„,è¿˜æ˜¯ä¸Šä¸€ä¸ªä¾‹å­,å®ç°è°ƒç”¨næ¬¡å‡½æ•°.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ntimes</span><span class="params">(n)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">innner</span><span class="params">(func)</span></span></span><br><span class="line"><span class="function">  	<span class="title">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">	  <span class="keyword">for</span> _ <span class="keyword">in</span> range(n):</span><br><span class="line">        print(<span class="string">"calling function %s"</span>%func.__name__)</span><br><span class="line">        ans = func(*args, **kwargs)</span><br><span class="line">      <span class="keyword">return</span> ans</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line">n = <span class="number">10</span></span><br><span class="line"><span class="meta">@ntimes(10)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add2</span><span class="params">(x, y=<span class="number">66</span>)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure>
<p>æœ¬ä¾‹ä¸­,ä»å‡½æ•°å¼ç¼–ç¨‹è§’åº¦çœ‹,æ·±åº¦æ›´æ·±äº†ä¸€å±‚,ä»<code>@</code>æœ¬è´¨ç†è§£,å…¶åç¬¦å·ntimesä¹Ÿæ˜¯å‡½æ•°,æ•…ä¹Ÿå¯æ¥å—å‚æ•°,ä¸€èˆ¬Decoratorä¸ä¼šæ¯”è¿™ä¸ªæ›´æ·±,æ‰€ä»¥äº†è§£å³å¯. è¯¦æƒ…å¯ä»¥äº†è§£<a href="https://en.wikipedia.org/wiki/Python_syntax_and_semantics#Closures" target="_blank" rel="noopener">pythonä¸­çš„é—­åŒ…</a>.</p>
<h3 id="å¤šä¸ªDecorator"><a href="#å¤šä¸ªDecorator" class="headerlink" title="å¤šä¸ªDecorator"></a>å¤šä¸ªDecorator</h3><p>é“ç†éƒ½æ˜¯ç±»ä¼¼çš„,è¯­æ³•ä¸º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dec2</span></span><br><span class="line"><span class="meta">@dec1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg1, arg2, ...)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h2 id="Class-Decorator"><a href="#Class-Decorator" class="headerlink" title="Class Decorator"></a>Class Decorator</h2><blockquote>
<p>In Python prior to version 2.6, decorators apply to functions and methods, but not to classes. Decorating a (dummy) <code>__new__</code> method can modify a class, however.<a href="https://en.wikipedia.org/wiki/Python_syntax_and_semantics#cite_note-28" target="_blank" rel="noopener">[25]</a>Class decorators are supported<a href="https://en.wikipedia.org/wiki/Python_syntax_and_semantics#cite_note-29" target="_blank" rel="noopener">[26]</a> starting with Python 2.6.</p>
</blockquote>
<p>Python 2.6ä¹‹åæ‰æ”¯æŒclass decorators,ä¹‹å‰éƒ½æ˜¯é€šè¿‡metaclassæ¥å®ç°ç›¸åº”åŠŸèƒ½,<code>__new__</code>æ–¹æ³•ä¿®æ”¹ç±».</p>
<p>æŒ‰ç…§ä¹‹å‰çš„è§£é‡Š,Class Decoratorä¸Function Decoratoråº”è¯¥æ˜¯åŸºæœ¬ç›¸åŒçš„,åªæ˜¯è£…é¥°çš„å¯¹è±¡ä¸åŒè€Œå·².</p>
<h3 id="Decorator-ä½œç”¨æ•´ä¸ªç±»"><a href="#Decorator-ä½œç”¨æ•´ä¸ªç±»" class="headerlink" title="Decorator ä½œç”¨æ•´ä¸ªç±»"></a>Decorator ä½œç”¨æ•´ä¸ªç±»</h3><p>å¯ä»¥çœ‹åˆ°æ­¤æ—¶çš„decoratoræ¥å—ä¸€ä¸ªç±»ä½œä¸ºå‡½æ•°å‚æ•°,è¿”å›ä¸€ä¸ªä¿®é¥°ä¹‹åçš„ç±»,è·Ÿä¹‹å‰ä¸€æ ·çš„é“ç†.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(cls)</span>:</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Wrapper</span><span class="params">(object)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">            self.wrapped = cls(*args)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self, name)</span>:</span></span><br><span class="line">            print(<span class="string">'Getting the &#123;&#125; of &#123;&#125;'</span>.format(name, self.wrapped))</span><br><span class="line">            <span class="keyword">return</span> getattr(self.wrapped, name)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x, y)</span>:</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br></pre></td></tr></table></figure>
<h3 id="Decoratoræœ¬èº«æ˜¯ç±»"><a href="#Decoratoræœ¬èº«æ˜¯ç±»" class="headerlink" title="Decoratoræœ¬èº«æ˜¯ç±»"></a>Decoratoræœ¬èº«æ˜¯ç±»</h3><p>å¦‚ä¸‹é¢ä¾‹å­æ‰€ç¤º,</p>
<p><code>__init__</code>æ–¹æ³•æ¥å—è¦ä¿®é¥°çš„å‡½æ•°ä¸ºå‚æ•°.</p>
<p><code>__call__</code>æ–¹æ³•åœ¨è°ƒç”¨è¢«ä¿®é¥°å‡½æ•°æ—¶è°ƒç”¨.</p>
<p>æ­¤å¤–è¿˜æœ‰<code>__set__</code>, <code>__get__</code>, <code>__getattribute__</code>ç­‰æ–¹æ³•å‡å¯ä¿®æ”¹.    </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">decorator</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, func)</span>:</span></span><br><span class="line">        self.func = func</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(self, *args)</span>:</span></span><br><span class="line">        print(<span class="string">'Called &#123;func&#125; with args: &#123;args&#125;'</span>.format(func=self.func.func_name,</span><br><span class="line">                                                       args=args))</span><br><span class="line">        <span class="keyword">return</span> self.func(*args)</span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x,y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line">func(<span class="number">1</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>ä»è¿™ä¸ªè§’åº¦çœ‹,Decoratorå¯ä»¥å®ç°ä¿®æ”¹è°ƒç”¨æ¨¡å‹çš„è¿™ä¸€åŠŸèƒ½. å¯ä»¥å‚è€ƒ<a href="https://www.ibm.com/developerworks/cn/linux/l-cpdecor.html" target="_blank" rel="noopener">ä¿®æ”¹è°ƒç”¨æ¨¡å‹</a>.</p>
<h2 id="æ”¹è¿›"><a href="#æ”¹è¿›" class="headerlink" title="æ”¹è¿›"></a>æ”¹è¿›</h2><p>ä»”ç»†ç ”è¯»ç»†èŠ‚å°±ä¼šå‘ç°,ä½¿ç”¨decoratorå¯ä»¥å®ŒæˆæœŸæœ›çš„åŠŸèƒ½,å–å¾—æˆæ•ˆ,ä½†æ˜¯ä¹Ÿä¼šå¸¦æ¥ä»£ç ç»†èŠ‚ä¸åŸæœ¬å‡ºç°åå·®çš„é—®é¢˜,æ¯•ç«Ÿå¯¹äº†ä¸€å±‚è°ƒç”¨,æ”¹è¿›æ–¹æ³•å¯ä»¥ä½¿ç”¨ <code>functools</code>çš„<code>wraps</code>Decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">some_decorator</span><span class="params">(func)</span>:</span></span><br><span class="line"><span class="meta">  @wraps(f)</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">    func(*args, **kwargs)</span><br><span class="line">  <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> decorator <span class="keyword">import</span> decorator</span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator	</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">some_decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">    func(*args, **kwargs)</span><br><span class="line">  <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;What-is-a-Decorator&quot;&gt;&lt;a href=&quot;#What-is-a-Decorator&quot; class=&quot;headerlink&quot; title=&quot;What is a Decorator?&quot;&gt;&lt;/a&gt;What is a Decorator?&lt;/h2&gt;&lt;p&gt;
    
    </summary>
    
      <category term="python" scheme="http://wongchen.github.io/categories/python/"/>
    
    
      <category term="python" scheme="http://wongchen.github.io/tags/python/"/>
    
      <category term="decorator" scheme="http://wongchen.github.io/tags/decorator/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„KeyboardMaestroå®</title>
    <link href="http://wongchen.github.io/2016/12/09/myKeyboardMaestroActions/"/>
    <id>http://wongchen.github.io/2016/12/09/myKeyboardMaestroActions/</id>
    <published>2016-12-09T08:16:00.000Z</published>
    <updated>2017-08-08T15:27:41.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.keyboardmaestro.com/main/" target="_blank" rel="noopener">Keyboard Maestro</a>ä½œä¸ºMacä¸‹å‡ºåçš„æ•ˆç‡è½¯ä»¶,æœ‰ç€ä¸è²çš„åå£°,æ˜¯<strong>Winner of a Macworld Editorsâ€™ Choice Award for 2013.</strong></p>
<p>å®˜ç½‘çš„ä»‹ç»æ˜¯:</p>
<blockquote>
<p>Whether you are a power user or a grandparent (or both!), your time is precious. So why waste it when Keyboard Maestro can help improve almost every aspect of using your Mac. Even the simplest things, like typing your email address, or going to Gmail or Facebook, launching Pages, or duplicating a line, all take time and add frustration. <strong>Let Keyboard Maestro help make your Mac life more pleasant and efficient.</strong></p>
</blockquote>
<p>å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨,åœ¨ä½¿ç”¨Macå·¥ä½œå­¦ä¹ çš„è¿‡ç¨‹ä¸­å‘ç°ä¸€äº›è·Ÿä¹‹å‰ä½¿ç”¨ä¹ æƒ¯ä¸é€‚åº”å’Œâ€ç¨å¾®åäººç±»çš„â€ä¸€äº›æ“ä½œ,æ¯”å¦‚åœ¨Finderä¸­çš„<em>â€œåœ¨å½“å‰ç›®å½•æ‰“å¼€ç»ˆç«¯â€</em>ç­‰æ“ä½œ,å› æ­¤æƒ³åˆ°äº†Keyboard Maestro,é€šè¿‡å®ƒæ¥ç®€åŒ–ä¸€äº›æ“ä½œå°†å¤§å¤§æé«˜æ•ˆç‡,ä¹Ÿæ›´åŠ ç®€ä¾¿.</p>
<p>ç„¶ååœ¨è¿™é‡Œç®€å•ä»‹ç»æˆ‘å¸¸ç”¨çš„ä¸€äº›å®(<strong>å¸¸æ›´æ–°å“¦</strong>)</p>
<h2 id="Finder"><a href="#Finder" class="headerlink" title="Finder"></a>Finder</h2><p>Finderä½œä¸ºä½¿ç”¨ç‡æœ€é«˜çš„è½¯ä»¶ä¹‹ä¸€,é¦–å…ˆä»‹ç»Finderç›¸å…³çš„å®.ç”±äºå¿«æ·é”®å¤ªéš¾è®°å¿†è€Œå†³å®šé‡‡ç”¨Palette,Finderä¸ä¼šå æ®å¤ªå¤§çš„ç©ºé—´,å› æ­¤Paletteä¹Ÿä¸ä¼šå‡ºç°é®æŒ¡Finderçª—å£çš„é—®é¢˜.</p>
<p><img src="/images/palette.png" alt="finder palette"></p>
<p>æ˜¾ç¤ºä¸º</p>
<p><img src="/images/finder_palette.png" alt="finder palette display"></p>
<ul>
<li>åœ¨Finderä¸­æ˜¾ç¤ºâ€åœ¨terminalä¸­æ‰“å¼€â€,å¾ˆç®€å•å¦‚ä¸‹å›¾å®ç°</li>
</ul>
<p><img src="/images/finder_terminal.png" alt="finder terminal"></p>
<ul>
<li>æ–°å»ºæ–‡ä»¶(<strong>æ–‡ä»¶åè‡ªè¡Œè¾“å…¥</strong>)</li>
</ul>
<p>ç”±äºKeyboard Maestroæ”¯æŒApple Script,å› æ­¤å¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç å®ç°:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tell application &quot;Finder&quot;</span><br><span class="line">	set annoying_path to the target of the front window as text</span><br><span class="line">	set actual_path to POSIX path of annoying_path</span><br><span class="line">	set something to display dialog &quot;File name?&quot; default answer &quot;&quot;</span><br><span class="line">	set textReturned to text returned of something</span><br><span class="line">	set newFileName to actual_path &amp; textReturned</span><br><span class="line">	set accessNum to open for access newFileName with write permission</span><br><span class="line">end tell</span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡»<code>&quot;æ–°å»ºæ–‡ä»¶&quot;</code>æ—¶,ä¼šæç¤ºçª—å£è¾“å…¥æ–‡ä»¶å</p>
<p><img src="/images/fider_new_file.png" alt="new file"></p>
<ul>
<li>å¤åˆ¶æ–‡ä»¶å</li>
</ul>
<p>åªéœ€å¦‚ä¸‹è„šæœ¬:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tell application &quot;Finder&quot;</span><br><span class="line">	set theFile to the selection</span><br><span class="line">	set fileName to name of item 1 of theFile</span><br><span class="line">	set the clipboard to fileName</span><br><span class="line">end tell</span><br></pre></td></tr></table></figure>
<p>å¦å¤–Macè‡ªå¸¦çš„<strong>è„šæœ¬ç¼–è¾‘å™¨</strong>,å¯ä»¥ç¼–å†™è¿è¡ŒApple Script,åœ¨å†™è„šæœ¬æ—¶å¯ä»¥ç”¨å®ƒå†™å®Œæµ‹è¯•okåå†å¤åˆ¶åˆ°Keyboard Maestroä¸­.</p>
<ul>
<li>å¤åˆ¶æ–‡ä»¶ç»å¯¹è·¯å¾„</li>
</ul>
<p>æœ‰æ—¶åœ¨ç»ˆç«¯ä¸‹å·¥ä½œæ—¶,æˆ–è€…å…¶ä»–ç¯å¢ƒä¸­éœ€è¦æŸä¸€æ–‡ä»¶çš„è·¯å¾„,è¿™æ—¶å€™ä½¿ç”¨ç»å¯¹è·¯å¾„ä¼šæ˜¯æœ‰æ•ˆå¯é ä¸”æ–¹ä¾¿çš„,åŒæ ·è„šæœ¬ä¸º:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tell application &quot;Finder&quot;</span><br><span class="line">	set sel to the selection</span><br><span class="line">	set the clipboard to POSIX path of (sel as text)</span><br><span class="line">end tell</span><br></pre></td></tr></table></figure>
<p>ç»“åˆApple Script, Keyboard Maestroå¯ä»¥å‘æŒ¥æ›´åŠ å¼ºå¤§çš„åŠŸèƒ½,æ…¢æ…¢é€šè¿‡ä¸æ–­çš„éœ€æ±‚å’Œå­¦ä¹ å¯ä»¥å¼€å‘å‡ºæ›´å¤šæ–°çš„åŠŸèƒ½</p>
<h2 id="Launch-Apps"><a href="#Launch-Apps" class="headerlink" title="Launch Apps"></a>Launch Apps</h2><p>å¯¹äºä¸€äº›å¸¸ç”¨çš„åº”ç”¨ç¨‹åºå¯ä»¥è®¾å®šæŸäº›å¿«æ·é”®,æ–¹ä¾¿å¿«é€Ÿå¯åŠ¨,å°±åƒåœ¨Linuxä¸‹é¢,<code>Alt</code> <code>+</code> <code>control</code> <code>+</code>  <code>T</code> å¼€å¯ç»ˆç«¯,winä¸‹é¢, <code>win</code> <code>+</code> <code>D</code>å¼€å¯æ–‡ä»¶ç®¡ç†å™¨.</p>
<p>æˆ‘å¸¸ç”¨çš„å¦‚:</p>
<p><img src="/images/launch_app_lists.png" alt="launch apps"></p>
<p>è®¾å®šè‡ªå·±ä¹ æƒ¯,å®¹æ˜“è®°å¿†çš„å¿«æ·é”®å³å¯.</p>
<p>å¦å¤–,å‘ç°æ¯æ¬¡æˆªå›¾ä¹‹åæƒ³è¦å¯»æ‰¾æˆªå›¾ç…§ç‰‡å˜å¾—ç¹æ‚,å› æ­¤æ¯æ¬¡æˆªå›¾åä¸»åŠ¨åœ¨Finderä¸‹æ˜¾ç¤ºæˆªå›¾ç›®å½•</p>
<p><img src="/images/screeshots_finder.png" alt="æˆªå›¾ å¼¹çª—"></p>
<p>(é€æ¸æ›´æ–°ä¸­â€¦.)</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.keyboardmaestro.com/main/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Keyboard Maestro&lt;/a&gt;ä½œä¸ºMacä¸‹å‡ºåçš„æ•ˆç‡è½¯ä»¶,æœ‰ç€ä¸è²çš„åå£°,æ˜¯&lt;strong&gt;Winner 
    
    </summary>
    
      <category term="Macé…ç½®" scheme="http://wongchen.github.io/categories/Mac%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="Keyboard Maestro" scheme="http://wongchen.github.io/tags/Keyboard-Maestro/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸‹å®‰è£…è½¯ä»¶åŒ…é‡åˆ°çš„é”™è¯¯æ€»ç»“</title>
    <link href="http://wongchen.github.io/2016/11/22/mac-uninstall-pip-packages/"/>
    <id>http://wongchen.github.io/2016/11/22/mac-uninstall-pip-packages/</id>
    <published>2016-11-21T16:30:37.000Z</published>
    <updated>2017-09-14T17:06:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨è£…ä¸€äº›è½¯ä»¶åŒ…çš„æ—¶å€™,æ€»é‡åˆ°ä¸€äº›å¾ˆéš¾è§£å†³çš„é”™è¯¯,æ€»ç»“ä¸‹:</p>
<h2 id="scipy-seaborn"><a href="#scipy-seaborn" class="headerlink" title="scipy, seaborn"></a>scipy, seaborn</h2><p>Pythonçš„åŒ…æˆ‘éƒ½æ˜¯é‡‡ç”¨pipæ¥å®‰è£…çš„</p>
<blockquote>
<p>SciPy (pronounced â€œSigh Pieâ€) is a Python-based ecosystem of open-source software for mathematics, science, and engineering. In particular, these are some of the core packages:</p>
</blockquote>
<ul>
<li>NumPy</li>
<li>SciPy</li>
<li>Matplotlib</li>
<li>IPython</li>
<li>Sympy</li>
<li>pandas</li>
</ul>
<p>Seabornçš„è¯,</p>
<blockquote>
<p>Seaborn is a Python visualization library based on matplotlib. It provides a high-level interface for drawing attractive statistical graphics.</p>
</blockquote>
<p>ä½†æ˜¯,æˆ‘ç”¨<code>pip install seaborn</code>å,importæ—¶,å‡ºç°<font color="red">ERROR</font></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from . import futil</span><br><span class="line">ImportError: cannot import name futil</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¹‹å‰è¿˜æœ‰ä¸ªé”™è¯¯,è¿™ä¸ªè·Ÿä¸ªäººä¹ æƒ¯æœ‰å…³,æˆ‘åœ¨æœ¬åœ°åˆ›å»ºçš„ä¸€ä¸ª<code>new.py</code>çš„æ–‡ä»¶,æ­£å¥½seabornå¯¼å…¥æ—¶ä¼šç”¨åˆ°<code>new.py</code>,ç”±PythonåŒ…å¯¼å…¥é¡ºåºæ­¤æ—¶æœ¬åœ°çš„<code>new</code>è¦ä¼˜å…ˆäºseabornçš„<code>new</code>,è¿™ä¸ªâ€æ¡ˆå­â€æç¤ºæˆ‘ä»¬è‡ªæˆ‘åˆ›å»ºæ–‡ä»¶æ—¶</p>
<ol>
<li>ç›®å½•è¦å‡†ç¡®</li>
<li>åå­—ä¸è¦å¤ªå®¹æ˜“èµ·å†²çª</li>
</ol>
<p>ä¸è¿‡è¿™ç±»é”™è¯¯ä¸€çœ¼ä¹Ÿèƒ½çœ‹å‡ºæ¥.<br>å›åˆ°åˆšé‚£ä¸ªé”™è¯¯,æœç´¢å¾ˆä¹…,å‘ç°å®‰è£…çš„<code>SciPy</code>åº”è¯¥æ˜¯ä¸€ä¸ªBrokençš„ç‰ˆæœ¬(åˆ°é‚£ä¸ªç›®å½•æŸ¥çœ‹çš„è¯,ä¼šå‘ç°<code>futil.so</code>è¿™ä¸ªæ–‡ä»¶),æ›´æ–°ä¸‹å°±å¥½äº†.ç„¶è€Œ,è¿™è´§æ ¹æœ¬å¸è½½ä¸æ‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OSError: [Errno 1] Operation not permitted: &apos;/tmp/pip-JPaA5b-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/scipy-0.13.0b1-py2.7.egg-info&apos;</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒ<a href="http://xiaorui.cc/2016/03/27/%E8%A7%A3%E5%86%B3mac-osx%E4%B8%8Bpip%E5%AE%89%E8%A3%85ipython%E6%9D%83%E9%99%90%E7%9A%84%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">è§£å†³mac osxä¸‹pipå®‰è£…ipythonæƒé™çš„é—®é¢˜</a>,ç»ˆäºè§£å†³äº†.</p>
<blockquote>
<p>ç”±äºEl Capitanå¼•å…¥äº†SIPæœºåˆ¶(System Integrity Protection),é»˜è®¤ä¸‹ç³»ç»Ÿå¯ç”¨SIPç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤æœºåˆ¶ï¼Œæ— è®ºæ˜¯å¯¹äºç¡¬ç›˜è¿˜æ˜¯è¿è¡Œæ—¶çš„è¿›ç¨‹é™åˆ¶å¯¹ç³»ç»Ÿç›®å½•çš„å†™æ“ä½œã€‚<br>  ç°åœ¨çš„è§£å†³åŠæ³•æ˜¯å–æ¶ˆSIPæœºåˆ¶ï¼Œå…·ä½“åšæ³•æ˜¯ï¼š<br>é‡å¯ç”µè„‘ï¼ŒæŒ‰ä½Command+R(ç›´åˆ°å‡ºç°è‹¹æœæ ‡å¿—)è¿›å…¥Recovery Mode(æ¢å¤æ¨¡å¼)<br>å·¦ä¸Šè§’èœå•é‡Œæ‰¾åˆ°å®ç”¨å·¥å…· -&gt; ç»ˆç«¯<br>è¾“å…¥csrutil disableå›è½¦<br>é‡å¯Macå³å¯<br>å¦‚æœæƒ³é‡æ–°å¯åŠ¨SIPæœºåˆ¶é‡å¤ä¸Šè¿°æ­¥éª¤æ”¹ç”¨csrutil enableå³å¯.</p>
</blockquote>
<p>è¿™ä¸‹å¥½äº†,ç„¶è€Œè¿è¡Œä¸‹é¢è¿™æ®µä»£ç æ—¶å‘ç°,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sns.set_style(&quot;whitegrid&quot;)</span><br><span class="line">data = np.random.normal(size=(20, 6)) + np.arange(6) / 2</span><br><span class="line">sns.boxplot(data=data);</span><br></pre></td></tr></table></figure>
<p>è¿™æ ¹æœ¬ä»€ä¹ˆéƒ½æ²¡æœ‰,ä»€ä¹ˆéƒ½æ²¡æœ‰,å…¶å®è¿™ä¸ªé—®é¢˜å¾ˆæ—©å°±æœ‰äº†â€¦â€¦</p>
<p><a href="https://www.zhihu.com/question/35169072" target="_blank" rel="noopener">çŸ¥ä¹</a><br><a href="http://stackoverflow.com/questions/2512225/matplotlib-not-showing-up-in-mac-osx" target="_blank" rel="noopener">stack<strong>overflow</strong></a></p>
<p>éƒ½è¿™ä¹ˆé•¿æ—¶é—´äº†,çœŸæ˜¯çš„,å°è¯•äº†ä¸‹é¢çš„æ‰€æœ‰æ–¹æ³•,åªæœ‰<code>plt.show()</code>è¿™ä¸ªæ–¹æ³•èƒ½ä½¿.ä½†æ˜¯,è¿™ä¸ªâ€å°ç«ç®­â€,ä¾¿é€€ä¸å‡ºå»äº†<img src="/images/python_sns.png" alt="python sns"><br>ä¸è¿‡<code>sns.plt</code>å€’æ˜¯æœ‰å¾ˆå¤šåŠŸèƒ½,åº”è¯¥èƒ½å¤Ÿå®ç°æˆ‘ä»¬æƒ³è¦çš„.</p>
<h2 id="VTK"><a href="#VTK" class="headerlink" title="VTK"></a>VTK</h2><p>å…¨ç§°æ˜¯<strong>The Visulition ToolKit</strong>, æœ‰<a href="http://www.vtk.org/Wiki/Main_Page" target="_blank" rel="noopener">wiki</a>.</p>
<p>å®‰è£…å®Œé‡åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜ä¾¿æ˜¯å‡ ä¸ªexamplesçš„cxxç‰ˆæœ¬,å‡ ä¹ä»€ä¹ˆéƒ½æ²¡æœ‰<br><img src="http://g.recordit.co/TWfNFkfk2y.gif" alt="NoneVtk"><br>ä¼¼ä¹æ˜¯VTKç‰ˆæœ¬æ›´æ–°å,å‡ºç°äº†è¿™äº›é—®é¢˜,æˆ‘ä¸çŸ¥é“äº†.ä¸è¿‡è¿˜æ˜¯æœ‰å…¶ä»–ä¾‹å­å¯ä»¥æ˜¾ç¤ºçš„.</p>
<p>æœ‰äº›ä¾‹å­ä¸­åŒ…å«vtkRenderWindowInteractor`å³VTKäº¤äº’æ¸²æŸ“çª—å£æ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„,ä½†æ˜¯å…¶ä»–å°±ä¸è¡Œäº†.</p>
<p>åæ¥å‘ç°è§£å†³æ–¹æ³•:</p>
<p>ä¸¾ä¾‹æ¥è¯´,å¦‚è¿™ä¸ª<a href="https://github.com/Kitware/VTK/blob/master/Examples/Tutorial/Step1/Cxx/Cone.cxx" target="_blank" rel="noopener">ä¾‹å­</a>æ˜¯VTKå®˜æ–¹çš„Toturialä¸­çš„step1,åœ¨cxxæºä»£ç ä¸­åŠ å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;unistd.h&gt;</span><br><span class="line">// &lt;...step1 code...&gt;</span><br><span class="line"> for (i = 0; i &lt; 360; ++i) //æ¯æ¬¡æ¸²æŸ“çª—å£æ—¶é€šè¿‡usleepå‡½æ•°,å¯ä»¥è®©çª—å£ä¿ç•™æ˜¾ç¤ºä¸€æ®µæ—¶é—´</span><br><span class="line">  &#123;</span><br><span class="line">    usleep(microseconds);</span><br><span class="line"></span><br><span class="line">    // render the image</span><br><span class="line">    renWin-&gt;Render();</span><br><span class="line">    // rotate the active camera by one degree</span><br><span class="line">    ren1-&gt;GetActiveCamera()-&gt;Azimuth( 1 );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul>
<li>å®‰è£…MITKæ—¶,ç”¨Cmakeç¼–è¯‘å¥½ä¹…,é”™è¯¯å¥½å¤š,æ— æ³•è§£å†³</li>
<li>å®‰è£…Qt5,é‡åˆ°é”™è¯¯</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Project ERROR: Xcode not set up properly. You may need to confirm the license agreement by running /usr/bin/xcodebuild</span><br></pre></td></tr></table></figure>
<p>åæ¥å‘ç°æ˜¯ä¸ªæŸä¸ªç‰ˆæœ¬çš„bug,æ¢äº†å…¶ä»–æ–¹å¼å®‰è£…åˆé€‚çš„ç‰ˆæœ¬åokäº†</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘åœ¨è£…ä¸€äº›è½¯ä»¶åŒ…çš„æ—¶å€™,æ€»é‡åˆ°ä¸€äº›å¾ˆéš¾è§£å†³çš„é”™è¯¯,æ€»ç»“ä¸‹:&lt;/p&gt;
&lt;h2 id=&quot;scipy-seaborn&quot;&gt;&lt;a href=&quot;#scipy-seaborn&quot; class=&quot;headerlink&quot; title=&quot;scipy, seaborn&quot;&gt;&lt;/a&gt;scipy, s
    
    </summary>
    
      <category term="Macé…ç½®" scheme="http://wongchen.github.io/categories/Mac%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="mac" scheme="http://wongchen.github.io/tags/mac/"/>
    
      <category term="pip" scheme="http://wongchen.github.io/tags/pip/"/>
    
      <category term="vtk" scheme="http://wongchen.github.io/tags/vtk/"/>
    
      <category term="seaborn" scheme="http://wongchen.github.io/tags/seaborn/"/>
    
  </entry>
  
  <entry>
    <title>IPv6ç¯å¢ƒä½¿ç”¨Goagentä»£ç†å…æ ¡å›­ç½‘æµé‡</title>
    <link href="http://wongchen.github.io/2016/11/13/gae-proxy-ipv6/"/>
    <id>http://wongchen.github.io/2016/11/13/gae-proxy-ipv6/</id>
    <published>2016-11-13T14:49:58.000Z</published>
    <updated>2017-09-14T08:01:16.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ipv6"><a href="#ipv6" class="headerlink" title="ipv6"></a>ipv6</h2><p>If you ask Google â€œWhat is ipv6 ?â€, the first entry it will display says that</p>
<blockquote>
<p>Internet Protocol Version 6 (IPv6) is a network layer protocol that enables data communications over a packet switched network. Packet switching involves the sending and receiving of data in packets between two nodes in a network. </p>
</blockquote>
<p>ç”¨ä¸­æ–‡è®²,å°±æ˜¯</p>
<blockquote>
<p>äº’è”ç½‘é€šä¿¡åè®®ç¬¬6ç‰ˆï¼ˆè‹±æ–‡ï¼šInternet Protocol version 6ï¼Œç¼©å†™ï¼šIPv6ï¼‰æ˜¯äº’è”ç½‘åè®®çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç”¨äºåˆ†ç»„äº¤æ¢äº’è”ç½‘ç»œçš„ç½‘ç»œå±‚åè®®ï¼Œæ—¨åœ¨è§£å†³IPv4åœ°å€æ¯ç«­é—®é¢˜ã€‚<br>  IPv6æ„å›¾æ›¿æ¢IPv4ï¼Œè€ŒIPv4åœ¨2014å¹´5æœˆä»ç„¶åœ¨ç½‘ç»œäº¤é€šä¸Šå æœ‰96%ã€‚[1][2][3]åœ¨2014å¹´10æœˆï¼Œé€šè¿‡IPv6ä½¿ç”¨GoogleæœåŠ¡çš„ç”¨æˆ·ç™¾åˆ†ç‡é¦–æ¬¡è¶…è¿‡5%ã€‚</p>
</blockquote>
<p>  æ•™è‚²ç½‘ç”±äºé‡‡ç”¨IPv6,æœ‰å®ƒå›ºæœ‰çš„ä¼˜åŠ¿</p>
<ul>
<li>åœ°å€å®¹é‡å¤§å¤§æ‰©å±•ï¼Œç”±åŸæ¥çš„32ä½æ‰©å……åˆ°128ä½ï¼Œå½»åº•è§£å†³IPv4åœ°å€ä¸è¶³çš„é—®é¢˜ï¼›æ”¯æŒåˆ†å±‚åœ°å€ç»“æ„ï¼Œä»è€Œæ›´æ˜“äºå¯»å€ï¼›æ‰©å±•æ”¯æŒç»„æ’­å’Œä»»æ„æ’­åœ°å€ï¼Œè¿™ä½¿å¾—æ•°æ®åŒ…å¯ä»¥å‘é€ç»™ä»»ä½•ä¸€ä¸ªæˆ–ä¸€ç»„èŠ‚ç‚¹ï¼›</li>
<li>å¤§å®¹é‡çš„åœ°å€ç©ºé—´èƒ½å¤ŸçœŸæ­£çš„å®ç°æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®ï¼Œä½¿IPv6ç»ˆç«¯èƒ½å¤Ÿå¿«é€Ÿè¿æ¥åˆ°ç½‘ç»œä¸Šï¼Œæ— éœ€äººå·¥é…ç½®ï¼Œå®ç°äº†çœŸæ­£çš„å³æ’å³ç”¨ï¼›</li>
<li>â€¦â€¦ å…¶å®æˆ‘æ˜¯ä¸æ‡‚çš„</li>
</ul>
<h2 id="GoAgent"><a href="#GoAgent" class="headerlink" title="GoAgent"></a>GoAgent</h2><p>From <a href="https://zh.wikipedia.org/wiki/GoAgent" target="_blank" rel="noopener">Wikepidia</a>,</p>
<blockquote>
<p>GoAgentæ˜¯ä½¿ç”¨è·¨å¹³å°è¯­è¨€Pythonå¼€å‘ã€åŸºäºGPLè‡ªç”±è½¯ä»¶åè®®çš„ä»£ç†è½¯ä»¶ã€‚å®ƒåˆ©ç”¨Google App Engineï¼ˆGAEï¼‰çš„æœåŠ¡å™¨å……å½“ä»£ç†ã€‚ä»2015å¹´8æœˆä»¥åï¼ŒGoAgentå·²åœæ­¢ç»´æŠ¤ï¼Œå¹¶è¢«å¼€å‘è€…åˆ é™¤ã€‚ä¸è¿‡ï¼ŒGoAgentä½œè€…phusluäº2015å¹´3æœˆå¼€å§‹å¼€å‘çš„å¦ä¸€ä¸ªç¿»å¢™è½¯ä»¶GoProxyä»å¤„äºæ´»è·ƒç»´æŠ¤çŠ¶æ€ã€‚</p>
</blockquote>
<p>è™½ç„¶é‚£ä¼šå„¿åœæ­¢ç»´æŠ¤äº†,ä½†æ˜¯æˆ‘å‘ç°è™½ç„¶IPv4çš„IPä¸èƒ½ä½¿äº†,IPv6è¿˜æ˜¯OKçš„.äºæ˜¯æˆ‘å°±å¤§éƒ¨åˆ†æ—¶é—´ä¸€ç›´éƒ½åœ¨ç”¨å®ƒ,ç”¨åˆ°ç°åœ¨.</p>
<p>å…·ä½“æ€ä¹ˆç”¨å°±ä¸è¯´äº†,BTW,éœ€è¦å¼€å¯IPv6,åœ¨<code>local/proxy.ini</code>é…ç½®æ–‡ä»¶ä¸­,ä¿®æ”¹<code>ipv6=1</code><br><img src="/images/ipv6.png" alt="ipv6"></p>
<h3 id="æµè§ˆå™¨ä½¿ç”¨"><a href="#æµè§ˆå™¨ä½¿ç”¨" class="headerlink" title="æµè§ˆå™¨ä½¿ç”¨"></a>æµè§ˆå™¨ä½¿ç”¨</h3><p><code>chrome</code> é…åˆæ’ä»¶ <code>SwitchyOmega</code>,ä¿®æ”¹è§„åˆ™<br>ä»£ç†ç±»å‹<em>HTTP</em>,æœåŠ¡å™¨ <em>127.0.0.1</em> ,ç«¯å£ <em>8087</em>,ä¹Ÿå¯ä»¥ä½¿ç”¨å¤‡ä»½æ–‡ä»¶æ¢å¤.<br>éœ€è¦æ³¨æ„çš„æ˜¯,å®Œäº†éœ€è¦ä¿¡ä»»å…¶è¯ä¹¦.</p>
<p>åœ¨çº¿çœ‹YouTubeè¿˜æ˜¯å¾ˆå¿«çš„,ç»å¸¸çœ‹Apple/Google å‘å¸ƒä¼š Live stream,è¿˜æœ‰NBA çš„Live,è¿˜æœ‰Udacityå’ŒCourseraä¸Šé¢çš„è¯¾ç¨‹â€¦â€¦èµ„æºè¿˜æ˜¯å¾ˆå¤šçš„,é€Ÿåº¦ä¹ŸåŸºæœ¬ok.<br><img src="/images/youtube.png" alt="youtube"></p>
<h3 id="Terminalä½¿ç”¨"><a href="#Terminalä½¿ç”¨" class="headerlink" title="Terminalä½¿ç”¨"></a>Terminalä½¿ç”¨</h3><p>ä¿®æ”¹å˜é‡<code>http_proxy</code>å’Œ<code>https_proxy</code>å³å¯,å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy=&apos;http://localhost:8087&apos;                                                    </span><br><span class="line">export https_proxy=&apos;http://localhost:8087&apos;</span><br></pre></td></tr></table></figure>
<p>æ€»ä¹‹,åœ¨Terminalä¸‹,ä»£ç†åé€Ÿåº¦æ¯”ä¸ç”¨ä»£ç†è¦<strong>å¿«äº†</strong>å‡ å€,è¿˜æ˜¯å¾ˆå¯ä»¥çš„.</p>
<p>æ­¤å¤–,è¿˜å¯ä»¥è®¾ç½®gitä»£ç†, cloneä¸å†æ…¢~<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy &apos;http://127.0.0.1:8087&apos;</span><br><span class="line">git config --global https.proxy &apos;http://127.0.0.1:8087&apos;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ç”¨<code>wget</code>ä¸‹è½½æ—¶éœ€è¦æ·»åŠ <code>--no-check-certificate</code>,å¦åˆ™ä¼š<br><code>ERROR: cannot verify github.com&#39;s certificate, issued by â€˜CN=GoAgent,OU=GoAgent,O=GoAgent,L=Cernet,ST=Internet,C=CNâ€™:
  Unable to locally verify the issuer&#39;s authority.</code>   </p>
<p>  ä¹‹åæ‰¾åˆ°è§£å†³åŠæ³•å†æ¥æ›´æ–°ï£¿</p>
<p>å…¶ä»–appä¹Ÿæ˜¯å¯ä»¥,åƒè¿…é›·,ç™¾åº¦äº‘,spotifyè¿™äº›,å¾ˆçœæµé‡å•Š</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ipv6&quot;&gt;&lt;a href=&quot;#ipv6&quot; class=&quot;headerlink&quot; title=&quot;ipv6&quot;&gt;&lt;/a&gt;ipv6&lt;/h2&gt;&lt;p&gt;If you ask Google â€œWhat is ipv6 ?â€, the first entry it will di
    
    </summary>
    
      <category term="Macé…ç½®" scheme="http://wongchen.github.io/categories/Mac%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="IPv6" scheme="http://wongchen.github.io/tags/IPv6/"/>
    
      <category term="GAE" scheme="http://wongchen.github.io/tags/GAE/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„Vimé…ç½®</title>
    <link href="http://wongchen.github.io/2016/11/13/%E6%88%91%E7%9A%84MacVim%E9%85%8D%E7%BD%AE/"/>
    <id>http://wongchen.github.io/2016/11/13/æˆ‘çš„MacVimé…ç½®/</id>
    <published>2016-11-13T05:14:35.000Z</published>
    <updated>2017-08-25T16:23:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç½‘ä¸Šå…³äºVimé…ç½®çš„è®²å¾ˆå¤šï¼Œä¸€é”®é…ç½®ä¹Ÿå¾ˆå¤šã€‚ä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨Vimä¸æ˜¯å› ä¸ºå®ƒçš„æ’ä»¶å®ç°çš„åŠŸèƒ½ï¼Œè‡ªåŠ¨è¡¥å…¨ï¼Œæç¤ºæœ‰å¤šå‰å®³ï¼Œè€Œæ˜¯å®ƒè‡ªèº«çš„é€»è¾‘ï¼Œè‡ªèº«çš„å¿«é€Ÿå®šä½ï¼Œæ ¼å¼åŒ–ä»£ç ã€‚</p>
<p>æ‰€ä»¥è‡ªå·±ä½¿ç”¨æ–¹ä¾¿ï¼Œå¥½ç”¨çš„é…ç½®æ‰æ˜¯æœ€å¥½çš„ï¼</p>
<p>æˆ‘èµ·åˆå°±æ˜¯å†™<code>python</code>ï¼Œæ‰€ä»¥ä¸»è¦é…ç½®å›´ç»•<code>python</code>ã€‚é¦–å…ˆï¼Œåœ¨<code>~</code>ç›®å½•æ–°å»º<code>.vimrc</code>æ–‡ä»¶ï¼Œæ·»åŠ ä¸€äº›é…ç½®ï¼š</p>
<p><a href="https://github.com/WongChen/.vim/blob/master/.vimrc" target="_blank" rel="noopener">vimrc</a>æ–‡ä»¶åœ¨è¿™.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&quot;å»æ‰viçš„ä¸€è‡´æ€§</span><br><span class="line">set nocompatible</span><br><span class="line">&quot;æ–‡ä»¶ç±»å‹</span><br><span class="line">filetype on</span><br><span class="line">è‡ªåŠ¨è¡¥å…¨</span><br><span class="line">set autoindent</span><br><span class="line">æ™ºèƒ½è¡¥å…¨</span><br><span class="line">set smartindent</span><br><span class="line">&quot;æ˜¾ç¤ºè¡Œå·</span><br><span class="line">set nu!</span><br><span class="line">&quot;é«˜äº®æœç´¢</span><br><span class="line">set hlsearch</span><br><span class="line">&quot; ç›¸å¯¹è¡Œ</span><br><span class="line">set relativenumber</span><br><span class="line"></span><br><span class="line">&quot; tab size</span><br><span class="line">set tabstop=4</span><br><span class="line">&quot;ä¸æŠ˜å </span><br><span class="line">set unwrap</span><br><span class="line">&quot;æŒ‡ç¤ºå½“å‰è¡Œ</span><br><span class="line">set cursorline</span><br><span class="line">&quot;æŒ‡ç¤ºå½“å‰åˆ—</span><br><span class="line">set cursorcolumn</span><br><span class="line">&quot;è¯­æ³•</span><br><span class="line">syntax enable</span><br><span class="line">&quot;æ ¹æ®æ–‡ä»¶ç±»å‹ç¼©è¿›</span><br><span class="line">filetype indent on</span><br><span class="line"></span><br><span class="line">syntax on</span><br><span class="line">&quot;python ç¼©è¿›4</span><br><span class="line">au FileType python set cindent shiftwidth=4</span><br><span class="line"></span><br><span class="line">&quot; ç»‘å®šjkä¸ºESCæŒ‰é”®,æ“ä½œæ›´æ–¹ä¾¿</span><br><span class="line">inoremap jk &lt;ESC&gt;</span><br><span class="line">&quot; è®¾ç½®Control aå·¦åˆ é™¤, Control dåˆåˆ é™¤</span><br><span class="line">inoremap &lt;C-a&gt; &lt;backspace&gt;</span><br><span class="line">inoremap &lt;C-d&gt; &lt;Right&gt;&lt;backspace&gt;</span><br><span class="line"></span><br><span class="line">&quot; å›è½¦ visual line mode</span><br><span class="line">map &lt;CR&gt; &lt;S-v&gt;</span><br><span class="line">`</span><br><span class="line">&quot; è®¾ç½® leader key ä¸ºç©ºæ ¼é”®</span><br><span class="line">let mapleader = &quot;\&lt;Space&gt;&quot;</span><br><span class="line"></span><br><span class="line">&quot;è®¾ç½®åœ¨æ’å…¥æ¨¡å¼ä¸‹, xzä¸ºä¸‹è¡Œè¾“å…¥, zxä¸ºä¸Šè¡Œè¾“å…¥</span><br><span class="line">imap xz &lt;ESC&gt;o</span><br><span class="line">imap zx &lt;Up&gt;&lt;ESC&gt;o</span><br><span class="line"></span><br><span class="line">&quot;ç»“åˆleader keyè®¾ç½®  ç©ºæ ¼åŠ w ä¿å­˜, ç©ºæ ¼åŠ zz ä¿å­˜é€€å‡º,ä¹Ÿæ˜¯ä¸ºäº†å¿«æ·æ“ä½œ&quot;</span><br><span class="line">nnoremap &lt;Leader&gt;zz :wq&lt;CR&gt;</span><br><span class="line">nnoremap &lt;Leader&gt;w :w&lt;CR&gt;</span><br></pre></td></tr></table></figure>
<p>ä¹‹åå®‰è£…æ’ä»¶:</p>
<h2 id="vundleæ’ä»¶ç®¡ç†å·¥å…·"><a href="#vundleæ’ä»¶ç®¡ç†å·¥å…·" class="headerlink" title="vundleæ’ä»¶ç®¡ç†å·¥å…·"></a>vundleæ’ä»¶ç®¡ç†å·¥å…·</h2><ul>
<li>å®‰è£…</li>
</ul>
<p><code>git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle</code></p>
<ul>
<li>é…ç½®</li>
</ul>
<p>åœ¨<code>.vimrc</code>ä¸­æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set rtp+=~/.vim/bundle/vundle/</span><br><span class="line">call vundle#rc()</span><br></pre></td></tr></table></figure>
<ul>
<li>æ’ä»¶å®‰è£…</li>
</ul>
<p>ç›®å‰æˆ‘ç”¨çš„æ’ä»¶,ä¹‹åå†æ›´æ–°.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;ç›®å‰æˆ‘ä½¿ç”¨çš„æ’ä»¶</span><br><span class="line"></span><br><span class="line">Bundle &apos;gmarik/vundle&apos;</span><br><span class="line"></span><br><span class="line">Bundle &apos;davidhalter/jedi&apos;</span><br><span class="line"></span><br><span class="line">Bundle &apos;Valloric/YouCompleteMe&apos;</span><br><span class="line"></span><br><span class="line">Bundle &apos;jiangmiao/auto-pairs&apos;</span><br><span class="line"></span><br><span class="line">Bundle &apos;scrooloose/nerdcommenter&apos;</span><br></pre></td></tr></table></figure>
<p>å®‰è£…æ’ä»¶,åªéœ€åœ¨ä»»ä¸€vimçª—å£<code>normal</code>æ¨¡å¼ä¸‹æ‰§è¡Œ<code>BundleInstall</code>å³å¯.</p>
<h2 id="jedi"><a href="#jedi" class="headerlink" title="jedi"></a>jedi</h2><p>Pythonè¡¥å…¨å¼ºåŠ›æ’ä»¶.</p>
<h3 id="YouCompleteMe"><a href="#YouCompleteMe" class="headerlink" title="YouCompleteMe"></a>YouCompleteMe</h3><h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><blockquote>
<p><a href="http://valloric.github.io/YouCompleteMe/#intro" target="_blank" rel="noopener">YouCompleteMe</a> is a fast, as-you-type, fuzzy-search code completion engine for Vim.</p>
</blockquote>
<p>ç‰¹ç‚¹:</p>
<ul>
<li>è¯†åˆ«every language</li>
<li>æ”¯æŒC-family languages(C/C++/Objective-C/Objective-C++)</li>
<li>å¯¹äºPython2/3é™„å¸¦Jedi-basedè¡¥å…¨(å°´å°¬,å¦å¤–çš„jediå¸è½½äº†ä¹Ÿæ²¡å…³ç³»),ä½¿ç”¨jediHttp wrapper</li>
<li>an OmniSharp-based completion engine for C#(ä¸æ‡‚C#)</li>
<li>a Tern-based completion engine for JavaScript</li>
<li>â€¦</li>
</ul>
<p>æ­¤å¤–è¿˜æœ‰<a href="a Tern-based completion engine for JavaScript">semantic IDE-like features</a>,åƒgoto declarations, definitions, usages, etcè¿™ç§,æ ¹æ®è¯­æ„é‡å‘½åå˜é‡(rename variables)ç­‰ç­‰,ä½¿ç”¨ä½“éªŒè¯•è¯•å§</p>
<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><ul>
<li>ä½¿ç”¨mvim(Vim binary that is inside the MacVim.app package )æ›´å¥½ä½“éªŒ,å°†vimé“¾æ¥åˆ°mvim</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/bin/mvim vim</span><br></pre></td></tr></table></figure>
<ul>
<li>vundle cloneYCMå,åˆ°YCMç›®å½•ç¼–è¯‘,éœ€è¦ç”¨åˆ°<a href="https://cmake.org/download/" target="_blank" rel="noopener">Cmake</a></li>
<li>ç¼–è¯‘</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.vim/bundle/YouCompleteMe</span><br><span class="line">./install.py --[xxx]</span><br></pre></td></tr></table></figure>
<p>å¯é€‰å‚æ•°æœ‰:</p>
<ul>
<li>â€“clang-completer,æ·»åŠ C-familyæ”¯æŒ</li>
<li>â€“all, everything</li>
</ul>
<h3 id="auto-pairs"><a href="#auto-pairs" class="headerlink" title="auto-pairs"></a>auto-pairs</h3><p>æ·»åŠ å¼•å·,æ‹¬å·é…å¯¹è¡¥å…¨,ä¸å¤šè¯´äº†.</p>
<h2 id="nerdcommenter"><a href="#nerdcommenter" class="headerlink" title="nerdcommenter"></a>nerdcommenter</h2><p>æ·»åŠ /è§£é™¤æ³¨é‡Š,æ”¯æŒå¤šç§è¯­è¨€,é»˜è®¤æ“ä½œä¸º:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;leader&gt;cc   åŠ æ³¨é‡Š</span><br><span class="line">&lt;leader&gt;cu   è§£å¼€æ³¨é‡Š</span><br></pre></td></tr></table></figure>
<h2 id="vimå­¦ä¹ "><a href="#vimå­¦ä¹ " class="headerlink" title="vimå­¦ä¹ "></a>vimå­¦ä¹ </h2><ul>
<li><code>vimtutor</code>æ˜¯æœ€åŸºç¡€çš„è€å¸ˆäº†.</li>
<li>åœ¨æ¨èä¸€ä¸ª<a href="https://getpocket.com/a/read/43816131" target="_blank" rel="noopener">vim å­¦ä¹ çš„é“¾æ¥</a>,çœ‹å®Œè¿™ä¸ªåº”è¯¥èƒ½å­¦åˆ°å¥½å¤š</li>
<li>è¯è¯´æ–°MacBook Pro with TouchBarå–æ¶ˆäº†<code>esc</code>é”®å,vimä½¿ç”¨ä¾¿æ¯”è¾ƒå°´å°¬</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inoremap jk &lt;ESC&gt;</span><br></pre></td></tr></table></figure>
<p>ç¯å¢ƒæ­å»ºå¥½ä¹‹å,å¼ºè¿«è‡ªå·±å¤šä½¿ç”¨å­¦ä¹ åˆ°çš„vimé«˜ç«¯æ“ä½œ,é€æ¸ç†Ÿæ‚‰,å°¤å…¶æ˜¯åœ¨è¿œç¨‹CLIç¯å¢ƒä¸­,vimå¾ˆæœ‰ç”¨,æ…¢æ…¢ä½ ä¼šç†Ÿæ‚‰æŒæ¡å¹¶çˆ±ä¸Švim.</p>
<p>æ˜ å°„åˆ°è‡ªå·±å–œæ¬¢çš„æŒ‰é”®å§.<br>ç­‰ç­‰.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç½‘ä¸Šå…³äºVimé…ç½®çš„è®²å¾ˆå¤šï¼Œä¸€é”®é…ç½®ä¹Ÿå¾ˆå¤šã€‚ä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨Vimä¸æ˜¯å› ä¸ºå®ƒçš„æ’ä»¶å®ç°çš„åŠŸèƒ½ï¼Œè‡ªåŠ¨è¡¥å…¨ï¼Œæç¤ºæœ‰å¤šå‰å®³ï¼Œè€Œæ˜¯å®ƒè‡ªèº«çš„é€»è¾‘ï¼Œè‡ªèº«çš„å¿«é€Ÿå®šä½ï¼Œæ ¼å¼åŒ–ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è‡ªå·±ä½¿ç”¨æ–¹ä¾¿ï¼Œå¥½ç”¨çš„é…ç½®æ‰æ˜¯æœ€å¥½çš„ï¼&lt;/p&gt;
&lt;p&gt;æˆ‘èµ·åˆå°±æ˜¯å†™&lt;code&gt;python&lt;/c
    
    </summary>
    
      <category term="Macé…ç½®" scheme="http://wongchen.github.io/categories/Mac%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="mac" scheme="http://wongchen.github.io/tags/mac/"/>
    
      <category term="vim" scheme="http://wongchen.github.io/tags/vim/"/>
    
  </entry>
  
</feed>
